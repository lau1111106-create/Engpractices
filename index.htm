<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸŒŸ å¹¼å…’è‹±æ–‡ç”Ÿå­—å­¸ç¿’æ¨‚åœ’ ðŸŒŸ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', 'Noto Sans TC', cursive, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .header {
            background: linear-gradient(90deg, #ff6b6b, #feca57, #48dbfb, #ff9ff3);
            background-size: 400% 400%;
            animation: gradientShift 5s ease infinite;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .header h1 {
            color: white;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            color: white;
            font-size: 1.2em;
        }

        .controls {
            background: rgba(255,255,255,0.95);
            padding: 20px;
            margin: 20px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }

        .control-row {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .control-group label {
            font-weight: bold;
            color: #333;
        }

        select, input[type="range"] {
            padding: 10px 15px;
            border: 3px solid #764ba2;
            border-radius: 25px;
            font-size: 1em;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
        }

        select:hover, input[type="range"]:hover {
            border-color: #ff6b6b;
            transform: scale(1.05);
        }

        .speed-display {
            background: #764ba2;
            color: white;
            padding: 5px 15px;
            border-radius: 15px;
            font-weight: bold;
        }

	 /* Mode Toggle */
        .mode-toggle {
            display: flex;
            justify-content: center;
            gap: 15px;
            padding: 20px;
        }

        .mode-btn {
            padding: 15px 40px;
            border: 3px solid #764ba2;
            border-radius: 30px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            background: white;
            color: #764ba2;
            transition: all 0.3s;
        }

        .mode-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(118, 75, 162, 0.3);
        }

        .mode-btn.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-color: transparent;
        }

        .category-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            padding: 20px;
        }

        .category-btn {
            padding: 15px 25px;
            border: none;
            border-radius: 30px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .category-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .category-btn.active {
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(255,255,255,0.5);
        }

        .cat-animals { background: linear-gradient(135deg, #f6d365, #fda085); color: #333; }
        .cat-body { background: linear-gradient(135deg, #a8edea, #fed6e3); color: #333; }
        .cat-food { background: linear-gradient(135deg, #ff9a9e, #fecfef); color: #333; }
        .cat-home { background: linear-gradient(135deg, #a18cd1, #fbc2eb); color: #333; }
        .cat-sports { background: linear-gradient(135deg, #84fab0, #8fd3f4); color: #333; }
        .cat-time { background: linear-gradient(135deg, #ffecd2, #fcb69f); color: #333; }
        .cat-family { background: linear-gradient(135deg, #d299c2, #fef9d7); color: #333; }
        .cat-places { background: linear-gradient(135deg, #667eea, #764ba2); color: white; }
        .cat-colours { background: linear-gradient(135deg, #f093fb, #f5576c); color: white; }
        .cat-verbs { background: linear-gradient(135deg, #4facfe, #00f2fe); color: #333; }
        .cat-adjectives { background: linear-gradient(135deg, #43e97b, #38f9d7); color: #333; }

        .cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            padding: 25px;
            max-width: 1600px;
            margin: 0 auto;
        }

        .card-wrapper {
            perspective: 1000px;
            height: 400px;
        }

        .card {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
        }

        .card.flipped {
            transform: rotateY(180deg);
        }

        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 25px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        .card-front {
            background: linear-gradient(180deg, #ffffff 0%, #f8f9fa 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .card-back {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transform: rotateY(180deg);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 25px;
            color: white;
        }

        .card-emoji {
            font-size: 4em;
            margin-bottom: 10px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .word {
            font-size: 2.2em;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
            text-align: center;
        }

        .phonics {
            font-size: 1.1em;
            color: #764ba2;
            margin-bottom: 8px;
            font-weight: bold;
            background: #f0e6ff;
            padding: 5px 15px;
            border-radius: 15px;
        }

        .syllables {
            font-size: 1em;
            color: #666;
            margin-bottom: 8px;
            background: #fff3e0;
            padding: 8px 15px;
            border-radius: 10px;
        }

        .syllables span {
            color: #ff6b6b;
            font-weight: bold;
        }

        .example {
            font-size: 0.95em;
            color: #555;
            text-align: center;
            font-style: italic;
            margin-bottom: 12px;
            padding: 10px;
            background: #e3f2fd;
            border-radius: 10px;
            line-height: 1.4;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .speak-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 20px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .speak-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.5);
        }

        .speak-btn.small {
            padding: 5px 15px;
            font-size: 0.9em;
        }

        .flip-hint {
            margin-top: 12px;
            font-size: 0.85em;
            color: #999;
            font-style: italic;
        }

        .card-back .flip-hint {
            margin-top: 20px;
            color: rgba(255, 255, 255, 0.7);
        }

        /* Card Back Styles */
        .chinese-word {
            font-size: 3em;
            font-weight: bold;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .chinese-meaning {
            font-size: 1.3em;
            margin-bottom: 20px;
            text-align: center;
            line-height: 1.5;
        }

        .speak-chinese-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            background: linear-gradient(135deg, #ffecd2, #fcb69f);
            color: #333;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .speak-chinese-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 20px rgba(255, 236, 210, 0.5);
        }

        /* Spelling Practice Styles */
        .spelling-container {
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }

        .spelling-box {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 30px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
        }

        .spelling-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .spelling-header h2 {
            color: #764ba2;
            font-size: 2em;
            margin-bottom: 15px;
        }

        .spelling-score {
            display: flex;
            justify-content: center;
            gap: 25px;
            flex-wrap: wrap;
        }

        .spelling-score span {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 1.1em;
        }

        .spelling-score strong {
            color: #764ba2;
            font-size: 1.3em;
        }

        .spelling-category-select {
            text-align: center;
            margin-bottom: 25px;
        }

        .spelling-category-select label {
            font-weight: bold;
            margin-right: 10px;
            font-size: 1.1em;
        }

        .spelling-category-select select {
            padding: 12px 25px;
            border: 3px solid #764ba2;
            border-radius: 25px;
            font-size: 1.1em;
            cursor: pointer;
            background: white;
        }

        .spelling-card {
            text-align: center;
        }

        .spelling-emoji {
            font-size: 6em;
            margin-bottom: 15px;
            animation: bounce 2s infinite;
        }

        .spelling-chinese {
            font-size: 2.5em;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .spelling-cantonese {
            font-size: 1.2em;
            color: #666;
            margin-bottom: 20px;
        }

        .spelling-hints {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        .hint-btn {
            padding: 10px 18px;
            border: 2px solid #feca57;
            border-radius: 20px;
            background: linear-gradient(135deg, #fff9e6, #fff3cd);
            color: #856404;
            font-size: 0.95em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .hint-btn:hover {
            background: linear-gradient(135deg, #feca57, #f6b93b);
            color: white;
            transform: scale(1.05);
        }

        .hint-display {
            min-height: 50px;
            padding: 15px;
            margin-bottom: 20px;
            background: #fff3e0;
            border-radius: 15px;
            font-size: 1.3em;
            color: #e65100;
            font-weight: bold;
        }

        .hint-display:empty {
            display: none;
        }

        .spelling-input-area {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .spelling-input {
            padding: 15px 25px;
            font-size: 1.5em;
            border: 4px solid #764ba2;
            border-radius: 25px;
            width: 300px;
            text-align: center;
            outline: none;
            transition: all 0.3s;
        }

        .spelling-input:focus {
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
        }

        .spelling-input.correct {
            border-color: #28a745;
            background: #d4edda;
        }

        .spelling-input.wrong {
            border-color: #dc3545;
            background: #f8d7da;
            animation: shake 0.5s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .check-btn {
            padding: 15px 30px;
            font-size: 1.3em;
            font-weight: bold;
            border: none;
            border-radius: 25px;
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            cursor: pointer;
            transition: all 0.3s;
        }

        .check-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(40, 167, 69, 0.4);
        }

        .spelling-result {
            font-size: 1.8em;
            font-weight: bold;
            margin-bottom: 20px;
            min-height: 50px;
        }

        .spelling-result.correct {
            color: #28a745;
        }

        .spelling-result.wrong {
            color: #dc3545;
        }

        .spelling-answer {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 20px;
        }

        .correct-answer {
            font-size: 1.5em;
            margin-bottom: 10px;
        }

        .correct-answer strong {
            color: #1976d2;
            font-size: 1.3em;
            margin: 0 10px;
        }

        .answer-syllables {
            font-size: 1.2em;
            color: #666;
            margin-bottom: 10px;
        }

        .answer-syllables span {
            background: #fff;
            padding: 5px 12px;
            border-radius: 10px;
            margin: 0 3px;
            display: inline-block;
        }

        .answer-example {
            font-style: italic;
            color: #555;
            font-size: 1.1em;
        }

        .spelling-navigation {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .nav-btn {
            padding: 12px 25px;
            font-size: 1.1em;
            font-weight: bold;
            border: none;
            border-radius: 25px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            cursor: pointer;
            transition: all 0.3s;
        }

        .nav-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .nav-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .word-progress {
            font-size: 1.3em;
            font-weight: bold;
            color: #764ba2;
            background: #f0e6ff;
            padding: 10px 25px;
            border-radius: 20px;
        }

        .restart-btn {
            padding: 12px 30px;
            font-size: 1.1em;
            font-weight: bold;
            border: 2px solid #764ba2;
            border-radius: 25px;
            background: white;
            color: #764ba2;
            cursor: pointer;
            transition: all 0.3s;
        }

        .restart-btn:hover {
            background: #764ba2;
            color: white;
        }

        /* Final Result Styles */
        .final-result {
            text-align: center;
            padding: 30px;
        }

        .result-stats {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin: 25px 0;
        }

        .stat-item {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 20px 30px;
            border-radius: 20px;
            min-width: 100px;
        }

        .stat-item.correct {
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
        }

        .stat-item.wrong {
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
        }

        .stat-item.accuracy {
            background: linear-gradient(135deg, #cce5ff, #b8daff);
        }

        .stat-label {
            display: block;
            font-size: 0.9em;
            color: #666;
            margin-bottom: 5px;
        }

        .stat-value {
            display: block;
            font-size: 2em;
            font-weight: bold;
            color: #333;
        }

        .stat-item.correct .stat-value {
            color: #28a745;
        }

        .stat-item.wrong .stat-value {
            color: #dc3545;
        }

        .stat-item.accuracy .stat-value {
            color: #007bff;
        }

        /* Phonics Info Section */
        .phonics-info {
            background: rgba(255,255,255,0.95);
            margin: 20px;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }

        .phonics-info h2 {
            color: #764ba2;
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .phonics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .phonics-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid #764ba2;
        }

        .phonics-card h3 {
            color: #333;
            margin-bottom: 10px;
        }

        .phonics-card p {
            color: #666;
            line-height: 1.6;
        }

        .phonics-example {
            background: #fff3e0;
            padding: 8px 12px;
            border-radius: 8px;
            margin-top: 10px;
            font-weight: bold;
            color: #ff6b6b;
        }

        /* Footer */
        .footer {
            background: rgba(0,0,0,0.2);
            padding: 20px;
            text-align: center;
            color: white;
            margin-top: 40px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .cards-container {
                grid-template-columns: 1fr;
                padding: 15px;
            }
            
            .card-wrapper {
                height: 420px;
            }
            
            .control-row {
                flex-direction: column;
            }
            
            .category-btn {
                padding: 12px 20px;
                font-size: 1em;
            }

            .spelling-input {
                width: 100%;
                max-width: 280px;
            }
            
            .spelling-hints {
                gap: 8px;
            }
            
            .hint-btn {
                padding: 8px 12px;
                font-size: 0.85em;
            }

            .mode-btn {
                padding: 12px 25px;
                font-size: 1em;
            }

            .spelling-emoji {
                font-size: 4em;
            }

            .spelling-chinese {
                font-size: 2em;
            }
        }
        /* Quiz Styles */
        .quiz-container {
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }

        .quiz-box {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 30px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
        }

        .quiz-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .quiz-header h2 {
            color: #764ba2;
            font-size: 2em;
            margin-bottom: 15px;
        }

        .quiz-score {
            display: flex;
            justify-content: center;
            gap: 25px;
            flex-wrap: wrap;
        }

        .quiz-score span {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 1.1em;
        }

        .quiz-score strong {
            color: #764ba2;
            font-size: 1.3em;
        }

        .quiz-settings {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            align-items: flex-end;
            margin-bottom: 25px;
            padding: 25px;
            background: linear-gradient(135deg, #f0e6ff, #e6f0ff);
            border-radius: 20px;
        }

        .quiz-setting-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .quiz-setting-group label {
            font-weight: bold;
            color: #333;
            font-size: 0.95em;
        }

        .quiz-setting-group select {
            padding: 12px 20px;
            border: 3px solid #764ba2;
            border-radius: 20px;
            font-size: 1em;
            cursor: pointer;
            background: white;
            min-width: 160px;
        }

        .start-quiz-btn {
            padding: 15px 40px;
            font-size: 1.3em;
            font-weight: bold;
            border: none;
            border-radius: 30px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .start-quiz-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 30px rgba(102, 126, 234, 0.5);
        }

        .quiz-card {
            text-align: center;
        }

        .quiz-progress-bar {
            width: 100%;
            height: 12px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .quiz-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2, #f093fb);
            background-size: 200% 100%;
            animation: progressGradient 2s linear infinite;
            border-radius: 10px;
            transition: width 0.5s ease;
            width: 0%;
        }

        @keyframes progressGradient {
            0% { background-position: 0% 50%; }
            100% { background-position: 200% 50%; }
        }

        .quiz-progress-text {
            font-size: 1.1em;
            color: #666;
            margin-bottom: 25px;
        }

        .quiz-question {
            margin-bottom: 30px;
        }

        .quiz-emoji {
            font-size: 7em;
            margin-bottom: 15px;
            animation: bounce 2s infinite;
        }

        .quiz-chinese {
            font-size: 2.8em;
            font-weight: bold;
            color: #333;
            margin-bottom: 8px;
        }

        .quiz-cantonese {
            font-size: 1.3em;
            color: #666;
            margin-bottom: 20px;
        }

        .quiz-audio-btn {
            padding: 15px 35px;
            font-size: 1.2em;
            font-weight: bold;
            border: none;
            border-radius: 30px;
            background: linear-gradient(135deg, #ffecd2, #fcb69f);
            color: #333;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(252, 182, 159, 0.4);
        }

        .quiz-audio-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(252, 182, 159, 0.5);
        }

        .quiz-audio-btn.hidden {
            display: none;
        }

        .quiz-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }

        .quiz-option {
            padding: 20px;
            font-size: 1.4em;
            font-weight: bold;
            border: 4px solid #764ba2;
            border-radius: 20px;
            background: white;
            color: #333;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quiz-option:hover:not(.disabled) {
            background: linear-gradient(135deg, #f0e6ff, #e6f0ff);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(118, 75, 162, 0.3);
        }

        .quiz-option.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .quiz-option.correct {
            border-color: #28a745;
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            animation: correctPulse 0.5s;
        }

        @keyframes correctPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .quiz-option.wrong {
            border-color: #dc3545;
            background: linear-gradient(135deg, #dc3545, #c82333);
            color: white;
            animation: shake 0.5s;
        }

        .quiz-option.disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        .quiz-option.show-correct {
            border-color: #28a745;
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            color: #155724;
        }

        .quiz-feedback {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 20px;
            min-height: 50px;
        }

        .quiz-feedback.correct {
            color: #28a745;
        }

        .quiz-feedback.wrong {
            color: #dc3545;
        }

        .quiz-answer-info {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 20px;
            text-align: center;
        }

        .correct-word {
            font-size: 1.4em;
            margin-bottom: 10px;
        }

        .correct-word strong {
            color: #1976d2;
            font-size: 1.3em;
            margin: 0 10px;
        }

        .word-syllables {
            font-size: 1.1em;
            color: #666;
            margin-bottom: 8px;
        }

        .word-syllables span {
            background: #fff;
            padding: 5px 12px;
            border-radius: 10px;
            margin: 0 3px;
            display: inline-block;
        }

        .word-example {
            font-style: italic;
            color: #555;
            font-size: 1.1em;
        }

        .next-question-btn {
            padding: 15px 40px;
            font-size: 1.3em;
            font-weight: bold;
            border: none;
            border-radius: 30px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            cursor: pointer;
            transition: all 0.3s;
        }

        .next-question-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        /* Quiz Result Styles */
        .quiz-result {
            text-align: center;
            padding: 30px;
        }

        .quiz-result-emoji {
            font-size: 5em;
            margin-bottom: 20px;
        }

        .quiz-result h2 {
            color: #764ba2;
            font-size: 2.2em;
            margin-bottom: 25px;
        }

        .quiz-result-stats {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }

        .quiz-stat-item {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 25px 35px;
            border-radius: 20px;
            min-width: 120px;
        }

        .quiz-stat-item.correct {
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
        }

        .quiz-stat-item.wrong {
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
        }

        .quiz-stat-item.accuracy {
            background: linear-gradient(135deg, #cce5ff, #b8daff);
        }

        .quiz-stat-item.time {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
        }

        .quiz-stat-label {
            display: block;
            font-size: 1em;
            color: #666;
            margin-bottom: 8px;
        }

        .quiz-stat-value {
            display: block;
            font-size: 2.5em;
            font-weight: bold;
            color: #333;
        }

        .quiz-stat-item.correct .quiz-stat-value {
            color: #28a745;
        }

        .quiz-stat-item.wrong .quiz-stat-value {
            color: #dc3545;
        }

        .quiz-stat-item.accuracy .quiz-stat-value {
            color: #007bff;
        }

        .quiz-result-message {
            font-size: 1.6em;
            margin-bottom: 30px;
            color: #333;
        }

        .quiz-result-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .quiz-restart-btn {
            padding: 15px 35px;
            font-size: 1.2em;
            font-weight: bold;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quiz-restart-btn.primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .quiz-restart-btn.secondary {
            background: white;
            color: #764ba2;
            border: 3px solid #764ba2;
        }

        .quiz-restart-btn:hover {
            transform: scale(1.05);
        }

        /* Wrong answers review */
        .wrong-answers-section {
            margin-top: 30px;
            text-align: left;
        }

        .wrong-answers-section h3 {
            color: #dc3545;
            margin-bottom: 15px;
            text-align: center;
        }

        .wrong-answer-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: #fff;
            border-radius: 15px;
            margin-bottom: 10px;
            border-left: 5px solid #dc3545;
        }

        .wrong-answer-item .emoji {
            font-size: 2em;
        }

        .wrong-answer-item .word-info {
            flex: 1;
        }

        .wrong-answer-item .english {
            font-size: 1.3em;
            font-weight: bold;
            color: #333;
        }

        .wrong-answer-item .chinese {
            color: #666;
        }

        .wrong-answer-item .speak-btn {
            padding: 8px 15px;
        }

        /* Responsive for quiz */
        @media (max-width: 768px) {
            .quiz-options {
                grid-template-columns: 1fr;
            }

            .quiz-emoji {
                font-size: 5em;
            }

            .quiz-chinese {
                font-size: 2em;
            }

            .quiz-option {
                padding: 15px;
                font-size: 1.2em;
            }

            .quiz-settings {
                flex-direction: column;
                align-items: stretch;
            }

            .quiz-setting-group select {
                width: 100%;
            }

            .start-quiz-btn {
                width: 100%;
            }

            .quiz-result-stats {
                gap: 15px;
            }

            .quiz-stat-item {
                padding: 20px 25px;
                min-width: 100px;
            }

            .quiz-stat-value {
                font-size: 2em;
            }
        }

        /* Progress Panel Styles */
        .progress-panel {
            background: rgba(255, 255, 255, 0.98);
            margin: 0 20px 20px 20px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .progress-toggle {
            padding: 15px 25px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }

        .progress-toggle:hover {
            background: linear-gradient(135deg, #764ba2, #667eea);
        }

        .progress-content {
            padding: 25px;
            display: none;
        }

        .progress-content.show {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .progress-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .progress-stat-item {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            transition: all 0.3s;
        }

        .progress-stat-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .progress-stat-icon {
            font-size: 2em;
            display: block;
            margin-bottom: 10px;
        }

        .progress-stat-label {
            font-size: 0.9em;
            color: #666;
            display: block;
            margin-bottom: 5px;
        }

        .progress-stat-value {
            font-size: 1.8em;
            font-weight: bold;
            color: #764ba2;
        }

        .progress-stat-total {
            font-size: 1em;
            color: #999;
        }

        .progress-bar-container {
            margin-bottom: 25px;
        }

        .progress-bar-label {
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }

        .progress-bar-track {
            height: 25px;
            background: #e9ecef;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }

        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2, #f093fb);
            background-size: 200% 100%;
            animation: progressGradient 3s linear infinite;
            border-radius: 15px;
            transition: width 0.5s ease;
            width: 0%;
        }

        .progress-bar-percent {
            text-align: right;
            font-weight: bold;
            color: #764ba2;
            margin-top: 5px;
        }

        .progress-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .progress-btn {
            padding: 12px 25px;
            font-size: 1em;
            font-weight: bold;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .progress-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .progress-btn.warning {
            background: linear-gradient(135deg, #ffc107, #ff9800);
            color: #333;
        }

        .progress-btn.warning:hover {
            box-shadow: 0 5px 15px rgba(255, 193, 7, 0.4);
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: white;
            border-radius: 25px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            animation: modalSlideIn 0.3s ease;
        }

        .modal-content.large {
            max-width: 800px;
        }

        .modal-content.small {
            max-width: 400px;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            padding: 20px 25px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            margin: 0;
            font-size: 1.5em;
        }

        .modal-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.5em;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 50%;
            transition: all 0.3s;
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .modal-body {
            padding: 25px;
            overflow-y: auto;
            flex: 1;
        }

        .modal-footer {
            padding: 20px 25px;
            background: #f8f9fa;
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .modal-btn {
            padding: 12px 25px;
            font-size: 1em;
            font-weight: bold;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            background: #e9ecef;
            color: #333;
        }

        .modal-btn:hover {
            transform: scale(1.05);
        }

        .modal-btn.primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .modal-btn.secondary {
            background: linear-gradient(135deg, #ffc107, #ff9800);
            color: #333;
        }

        .modal-btn.danger {
            background: linear-gradient(135deg, #dc3545, #c82333);
            color: white;
        }

        /* Review Words List */
        .review-words-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .review-word-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            border-left: 5px solid #764ba2;
        }

        .review-word-item .emoji {
            font-size: 2em;
        }

        .review-word-item .word-details {
            flex: 1;
        }

        .review-word-item .english-word {
            font-size: 1.3em;
            font-weight: bold;
            color: #333;
        }

        .review-word-item .chinese-word {
            color: #666;
        }

        .review-word-item .word-actions {
            display: flex;
            gap: 10px;
        }

        .review-word-item .action-btn {
            padding: 8px 15px;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s;
        }

        .review-word-item .action-btn.speak {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .review-word-item .action-btn.remove {
            background: #dc3545;
            color: white;
        }

        .review-word-item .action-btn:hover {
            transform: scale(1.1);
        }

        .empty-message {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .empty-message .empty-icon {
            font-size: 4em;
            margin-bottom: 15px;
        }

        /* History Styles */
        .history-section {
            margin-bottom: 25px;
        }

        .history-section h3 {
            color: #764ba2;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e9ecef;
        }

        .history-table {
            width: 100%;
            border-collapse: collapse;
        }

        .history-table th,
        .history-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e9ecef;
        }

        .history-table th {
            background: #f8f9fa;
            font-weight: bold;
            color: #333;
        }

        .history-table tr:hover {
            background: #f8f9fa;
        }

        .history-score {
            font-weight: bold;
        }

        .history-score.high {
            color: #28a745;
        }

        .history-score.medium {
            color: #ffc107;
        }

        .history-score.low {
            color: #dc3545;
        }

        .category-progress {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .category-progress-item {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 15px;
            border-radius: 15px;
        }

        .category-progress-item .category-name {
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }

        .category-progress-item .mini-progress-bar {
            height: 10px;
            background: #ddd;
            border-radius: 5px;
            overflow: hidden;
        }

        .category-progress-item .mini-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 5px;
        }

        .category-progress-item .category-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            font-size: 0.9em;
            color: #666;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .progress-stats {
                grid-template-columns: repeat(2, 1fr);
            }

            .progress-buttons {
                flex-direction: column;
            }

            .progress-btn {
                width: 100%;
            }

            .modal-content {
                width: 95%;
                max-height: 90vh;
            }

            .modal-footer {
                flex-direction: column;
            }

            .modal-btn {
                width: 100%;
            }
        }

        /* Clickable stat item */
        .progress-stat-item.clickable {
            cursor: pointer;
            position: relative;
        }

        .progress-stat-item.clickable:hover {
            background: linear-gradient(135deg, #667eea20, #764ba220);
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.2);
        }

        .progress-stat-hint {
            display: block;
            font-size: 0.8em;
            color: #764ba2;
            margin-top: 5px;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .progress-stat-item.clickable:hover .progress-stat-hint {
            opacity: 1;
        }

        /* Learned words list */
        .learned-words-container {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .learned-category-section {
            background: linear-gradient(135deg, #f8f9fa, #ffffff);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .learned-category-header {
            padding: 15px 20px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            font-weight: bold;
            font-size: 1.1em;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }

        .learned-category-header:hover {
            background: linear-gradient(135deg, #764ba2, #667eea);
        }

        .learned-category-header .category-count {
            background: rgba(255, 255, 255, 0.2);
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.9em;
        }

        .learned-category-header .toggle-icon {
            font-size: 0.8em;
            transition: transform 0.3s;
        }

        .learned-category-header.collapsed .toggle-icon {
            transform: rotate(-90deg);
        }

        .learned-words-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 12px;
            padding: 20px;
        }

        .learned-words-grid.collapsed {
            display: none;
        }

        .learned-word-card {
            background: white;
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            border: 2px solid #e9ecef;
            transition: all 0.3s;
            cursor: pointer;
        }

        .learned-word-card:hover {
            border-color: #764ba2;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(118, 75, 162, 0.2);
        }

        .learned-word-card .word-emoji {
            font-size: 2.5em;
            margin-bottom: 8px;
        }

        .learned-word-card .word-english {
            font-size: 1.2em;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .learned-word-card .word-chinese {
            font-size: 0.95em;
            color: #666;
            margin-bottom: 10px;
        }

        .learned-word-card .word-actions {
            display: flex;
            justify-content: center;
            gap: 8px;
        }

        .learned-word-card .mini-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 12px;
            font-size: 0.85em;
            cursor: pointer;
            transition: all 0.3s;
        }

        .learned-word-card .mini-btn.speak {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .learned-word-card .mini-btn.speak:hover {
            transform: scale(1.1);
        }

        .learned-word-card .mini-btn.remove {
            background: #f8f9fa;
            color: #dc3545;
            border: 1px solid #dc3545;
        }

        .learned-word-card .mini-btn.remove:hover {
            background: #dc3545;
            color: white;
        }

        /* Filter and search for learned words */
        .learned-words-toolbar {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            align-items: center;
        }

        .learned-search {
            flex: 1;
            min-width: 200px;
            padding: 12px 20px;
            border: 3px solid #764ba2;
            border-radius: 25px;
            font-size: 1em;
            outline: none;
        }

        .learned-search:focus {
            box-shadow: 0 0 15px rgba(118, 75, 162, 0.3);
        }

        .learned-filter {
            padding: 12px 20px;
            border: 3px solid #764ba2;
            border-radius: 25px;
            font-size: 1em;
            background: white;
            cursor: pointer;
        }

        .learned-stats-bar {
            display: flex;
            justify-content: center;
            gap: 20px;
            padding: 15px;
            background: linear-gradient(135deg, #f0e6ff, #e6f0ff);
            border-radius: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .learned-stats-bar .stat {
            text-align: center;
        }

        .learned-stats-bar .stat-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #764ba2;
        }

        .learned-stats-bar .stat-label {
            font-size: 0.9em;
            color: #666;
        }

        /* Export button styles */
        .export-options {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            z-index: 10;
        }

        .export-options.show {
            display: block;
        }

        .export-option {
            padding: 12px 20px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .export-option:hover {
            background: #f0e6ff;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .learned-words-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
                padding: 15px;
            }

            .learned-word-card {
                padding: 12px;
            }

            .learned-word-card .word-emoji {
                font-size: 2em;
            }

            .learned-word-card .word-english {
                font-size: 1em;
            }

            .learned-words-toolbar {
                flex-direction: column;
            }

            .learned-search {
                width: 100%;
            }
        }


        /* Music Control Styles */
        .music-control {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 999;
        }

        .music-toggle-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: none;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            font-size: 1.8em;
            cursor: pointer;
            box-shadow: 0 5px 25px rgba(102, 126, 234, 0.5);
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .music-toggle-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 35px rgba(102, 126, 234, 0.6);
        }

        .music-toggle-btn.playing {
            animation: musicPulse 2s ease-in-out infinite;
        }

        @keyframes musicPulse {
            0%, 100% { 
                box-shadow: 0 5px 25px rgba(102, 126, 234, 0.5);
            }
            50% { 
                box-shadow: 0 5px 35px rgba(102, 126, 234, 0.8), 
                            0 0 60px rgba(240, 147, 251, 0.4);
            }
        }

        .music-icon {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .music-panel {
            position: absolute;
            bottom: 70px;
            right: 0;
            width: 280px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            display: none;
            animation: slideUp 0.3s ease;
        }

        .music-panel.show {
            display: block;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .music-panel-header {
            padding: 15px 20px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .music-close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.2em;
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            transition: background 0.3s;
        }

        .music-close-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .music-panel-body {
            padding: 20px;
        }

        .music-status {
            text-align: center;
            font-size: 1.1em;
            color: #666;
            margin-bottom: 15px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .music-status.playing {
              color: #28a745;
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            font-weight: bold;
        }

        .music-volume {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .music-volume input[type="range"] {
            flex: 1;
            height: 8px;
            border-radius: 4px;
            background: #e9ecef;
            outline: none;
            -webkit-appearance: none;
        }

        .music-volume input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(102, 126, 234, 0.4);
        }

        .music-volume input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            cursor: pointer;
            border: none;
        }

        .music-style {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .music-style label {
            font-weight: bold;
            color: #333;
            font-size: 0.95em;
        }

        .music-style select {
            padding: 10px 15px;
            border: 2px solid #764ba2;
            border-radius: 15px;
            font-size: 1em;
            cursor: pointer;
            background: white;
        }

        /* Music visualizer */
        .music-visualizer {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            gap: 3px;
            height: 30px;
            margin-top: 15px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .visualizer-bar {
            width: 4px;
            background: linear-gradient(to top, #667eea, #764ba2);
            border-radius: 2px;
            transition: height 0.1s ease;
        }

        .visualizer-bar.animate {
            animation: visualizerBounce 0.5s ease-in-out infinite;
        }

        .visualizer-bar:nth-child(1) { animation-delay: 0s; }
        .visualizer-bar:nth-child(2) { animation-delay: 0.1s; }
        .visualizer-bar:nth-child(3) { animation-delay: 0.2s; }
        .visualizer-bar:nth-child(4) { animation-delay: 0.15s; }
        .visualizer-bar:nth-child(5) { animation-delay: 0.25s; }
        .visualizer-bar:nth-child(6) { animation-delay: 0.05s; }
        .visualizer-bar:nth-child(7) { animation-delay: 0.3s; }
        .visualizer-bar:nth-child(8) { animation-delay: 0.1s; }

        @keyframes visualizerBounce {
            0%, 100% { height: 5px; }
            50% { height: 25px; }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .music-control {
                bottom: 20px;
                right: 20px;
            }

            .music-toggle-btn {
                width: 50px;
                height: 50px;
                font-size: 1.5em;
            }

            .music-panel {
                width: 260px;
                right: -10px;
            }
        }


    </style>
</head>

<body>
    <header class="header">
        <h1>ðŸŒŸ å¹¼å…’è‹±æ–‡ç”Ÿå­—å­¸ç¿’æ¨‚åœ’ ðŸŒŸ</h1>
        <p> äº’å‹•å­—å¡å­¸ç¿’</p>
    </header>

    <!-- Music Control Panel -->
    <div class="music-control" id="musicControl">
        <button class="music-toggle-btn" id="musicToggleBtn" onclick="toggleMusic()">
            <span class="music-icon" id="musicIcon">ðŸ”‡</span>
        </button>
        <div class="music-panel" id="musicPanel">
            <div class="music-panel-header">
                <span>ðŸŽµ èƒŒæ™¯éŸ³æ¨‚</span>
                <button class="music-close-btn" onclick="closeMusicPanel()">âœ•</button>
            </div>
            <div class="music-panel-body">
                <div class="music-status" id="musicStatus">å·²æš«åœ</div>
                <div class="music-volume">
                    <span>ðŸ”ˆ</span>
                    <input type="range" id="musicVolume" min="0" max="100" value="30" oninput="changeMusicVolume(this.value)">
                    <span>ðŸ”Š</span>
                </div>
                              <div class="music-style">
                    <label>éŸ³è‰²é¢¨æ ¼ï¼š</label>
                    <select id="musicStyle" onchange="changeMusicStyle()">
                        <option value="crystal">ðŸ’Ž æ°´æ™¶éŸ³è‰²</option>

                    </select>
                </div>
            </div>
        </div>
    </div>

    <div class="controls">
        <div class="control-row">
            <div class="control-group">
                <label>ðŸ”Š èªžé€Ÿèª¿ç¯€:</label>
                <input type="range" id="speedControl" min="0.5" max="1.5" step="0.1" value="0.8">
                <span class="speed-display" id="speedDisplay">0.8x</span>
            </div>
            <div class="control-group">
                <label>ðŸ” æœå°‹ç”Ÿå­—:</label>
                <input type="text" id="searchInput" placeholder="è¼¸å…¥è‹±æ–‡æˆ–ä¸­æ–‡..." style="padding: 10px 15px; border: 3px solid #764ba2; border-radius: 25px; font-size: 1em;">
            </div>
        </div>
    </div>

    <!-- Progress Panel -->
    <div class="progress-panel" id="progressPanel">
        <div class="progress-toggle" onclick="toggleProgressPanel()">
            ðŸ“Š å­¸ç¿’é€²åº¦ <span id="progressToggleIcon">â–¼</span>
        </div>
        <div class="progress-content" id="progressContent">
                        <div class="progress-stats">
                <div class="progress-stat-item clickable" onclick="showLearnedWords()">
                    <span class="progress-stat-icon">ðŸ“š</span>
                    <span class="progress-stat-label">å·²å­¸ç”Ÿå­—</span>
                    <span class="progress-stat-value" id="learnedWordsCount">0</span>
                    <span class="progress-stat-total">/ <span id="totalWordsCount">0</span></span>
                    <span class="progress-stat-hint">é»žæ“ŠæŸ¥çœ‹ ðŸ‘†</span>
                </div>
                <div class="progress-stat-item">
                    <span class="progress-stat-icon">âœï¸</span>
                    <span class="progress-stat-label">ä¸²å­—æœ€ä½³</span>
                    <span class="progress-stat-value" id="spellingBestScore">0%</span>
                </div>
                <div class="progress-stat-item">
                    <span class="progress-stat-icon">ðŸŽ¯</span>
                    <span class="progress-stat-label">æ¸¬é©—æœ€ä½³</span>
                    <span class="progress-stat-value" id="quizBestScore">0%</span>
                </div>
                <div class="progress-stat-item clickable" onclick="showReviewWords()">
                    <span class="progress-stat-icon">ðŸ“</span>
                    <span class="progress-stat-label">éœ€è¤‡ç¿’</span>
                    <span class="progress-stat-value" id="reviewWordsCount">0</span>
                    <span class="progress-stat-hint">é»žæ“ŠæŸ¥çœ‹ ðŸ‘†</span>
                </div>
            </div>
            
            <div class="progress-bar-container">
                <div class="progress-bar-label">æ•´é«”å­¸ç¿’é€²åº¦</div>
                <div class="progress-bar-track">
                    <div class="progress-bar-fill" id="overallProgressBar"></div>
                </div>
                <div class="progress-bar-percent" id="overallProgressPercent">0%</div>
            </div>

            <div class="progress-buttons">
                <button class="progress-btn" onclick="showReviewWords()">ðŸ“ è¤‡ç¿’éŒ¯é¡Œ</button>
                <button class="progress-btn" onclick="showLearningHistory()">ðŸ“ˆ å­¸ç¿’è¨˜éŒ„</button>
                <button class="progress-btn warning" onclick="confirmResetProgress()">ðŸ—‘ï¸ é‡ç½®é€²åº¦</button>
            </div>
        </div>
    </div>


    <!-- Learned Words Modal -->
    <div class="modal-overlay" id="learnedModal" style="display: none;">
        <div class="modal-content large">
            <div class="modal-header">
                <h2>ðŸ“š å·²å­¸ç¿’çš„ç”Ÿå­—</h2>
                <button class="modal-close" onclick="closeLearnedModal()">âœ•</button>
            </div>
            <div class="modal-body" id="learnedModalBody">
                <!-- Learned words will be listed here -->
            </div>
            <div class="modal-footer">
                <button class="modal-btn primary" onclick="exportLearnedWords()">ðŸ“¥ åŒ¯å‡ºåˆ—è¡¨</button>
                <button class="modal-btn" onclick="closeLearnedModal()">é—œé–‰</button>
            </div>
        </div>
    </div>


    <!-- Review Words Modal -->
    <div class="modal-overlay" id="reviewModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ðŸ“ éœ€è¦è¤‡ç¿’çš„ç”Ÿå­—</h2>
                <button class="modal-close" onclick="closeReviewModal()">âœ•</button>
            </div>
            <div class="modal-body" id="reviewModalBody">
                <!-- Review words will be listed here -->
            </div>
            <div class="modal-footer">
                <button class="modal-btn primary" onclick="startReviewQuiz()">ðŸŽ¯ é–‹å§‹è¤‡ç¿’æ¸¬é©—</button>
                <button class="modal-btn secondary" onclick="clearReviewWords()">ðŸ—‘ï¸ æ¸…ç©ºè¤‡ç¿’åˆ—è¡¨</button>
                <button class="modal-btn" onclick="closeReviewModal()">é—œé–‰</button>
            </div>
        </div>
    </div>

    <!-- Learning History Modal -->
    <div class="modal-overlay" id="historyModal" style="display: none;">
        <div class="modal-content large">
            <div class="modal-header">
                <h2>ðŸ“ˆ å­¸ç¿’è¨˜éŒ„</h2>
                <button class="modal-close" onclick="closeHistoryModal()">âœ•</button>
            </div>
            <div class="modal-body" id="historyModalBody">
                <!-- Learning history will be shown here -->
            </div>
            <div class="modal-footer">
                <button class="modal-btn" onclick="closeHistoryModal()">é—œé–‰</button>
            </div>
        </div>
    </div>

    <!-- Reset Confirmation Modal -->
    <div class="modal-overlay" id="resetModal" style="display: none;">
        <div class="modal-content small">
            <div class="modal-header">
                <h2>âš ï¸ ç¢ºèªé‡ç½®</h2>
                <button class="modal-close" onclick="closeResetModal()">âœ•</button>
            </div>
            <div class="modal-body">
                <p style="font-size: 1.2em; text-align: center; margin: 20px 0;">
                    ç¢ºå®šè¦é‡ç½®æ‰€æœ‰å­¸ç¿’é€²åº¦å—Žï¼Ÿ<br>
                    <span style="color: #dc3545;">æ­¤æ“ä½œç„¡æ³•å¾©åŽŸï¼</span>
                </p>
            </div>
            <div class="modal-footer">
                <button class="modal-btn danger" onclick="resetAllProgress()">ç¢ºèªé‡ç½®</button>
                <button class="modal-btn" onclick="closeResetModal()">å–æ¶ˆ</button>
            </div>
        </div>
    </div>

       <div class="mode-toggle">
        <button class="mode-btn active" id="flashcardMode" onclick="switchMode('flashcard')">
            ðŸ“š å­—å¡å­¸ç¿’
        </button>
        <button class="mode-btn" id="spellingMode" onclick="switchMode('spelling')">
            âœï¸ ä¸²å­—ç·´ç¿’
        </button>
        <button class="mode-btn" id="quizMode" onclick="switchMode('quiz')">
            ðŸŽ¯ ç”Ÿå­—æ¸¬é©—
        </button>
    </div>

    <div class="category-buttons" id="categoryButtons">
        <button class="category-btn cat-animals active" data-category="animals">ðŸ¦ Animals</button>
        <button class="category-btn cat-body" data-category="body">ðŸ‘¤ Body & Clothes</button>
        <button class="category-btn cat-food" data-category="food">ðŸŽ Food & Drink</button>
        <button class="category-btn cat-home" data-category="home">ðŸ  Home & School</button>
        <button class="category-btn cat-sports" data-category="sports">âš½ Sports & Toys</button>
        <button class="category-btn cat-time" data-category="time">ðŸŒ¤ï¸ Time & Transport</button>
        <button class="category-btn cat-family" data-category="family">ðŸ‘¨â€ðŸ‘©â€ðŸ‘§ Family & Work</button>
        <button class="category-btn cat-places" data-category="places">ðŸ–ï¸ Places</button>
        <button class="category-btn cat-colours" data-category="colours">ðŸŽ¨ Colours & Numbers</button>
        <button class="category-btn cat-verbs" data-category="verbs">ðŸƒ Verbs</button>
        <button class="category-btn cat-adjectives" data-category="adjectives">ðŸ˜Š Adjectives</button>
    </div>

    <div class="cards-container" id="cardsContainer">
        <!-- Cards will be generated here -->
    </div>

    <!-- Spelling Practice Section -->
    <div class="spelling-container" id="spellingContainer" style="display: none;">
        <div class="spelling-box">
            <div class="spelling-header">
                <h2>âœï¸ ä¸²å­—ç·´ç¿’</h2>
                <div class="spelling-score">
                    <span>âœ… æ­£ç¢º: <strong id="correctCount">0</strong></span>
                    <span>âŒ éŒ¯èª¤: <strong id="wrongCount">0</strong></span>
                    <span>ðŸ“Š æ­£ç¢ºçŽ‡: <strong id="accuracyRate">0%</strong></span>
                </div>
            </div>
            
            <div class="spelling-category-select">
                <label>é¸æ“‡åˆ†é¡žï¼š</label>
                <select id="spellingCategory" onchange="startSpellingPractice()">
                    <option value="animals">ðŸ¦ Animals</option>
                    <option value="body">ðŸ‘¤ Body & Clothes</option>
                    <option value="food">ðŸŽ Food & Drink</option>
                    <option value="home">ðŸ  Home & School</option>
                    <option value="sports">âš½ Sports & Toys</option>
                    <option value="time">ðŸŒ¤ï¸ Time & Transport</option>
                    <option value="family">ðŸ‘¨â€ðŸ‘©â€ðŸ‘§ Family & Work</option>
                    <option value="places">ðŸ–ï¸ Places</option>
                    <option value="colours">ðŸŽ¨ Colours & Numbers</option>
                    <option value="verbs">ðŸƒ Verbs</option>
                    <option value="adjectives">ðŸ˜Š Adjectives</option>
                    <option value="all">ðŸŒŸ å…¨éƒ¨ç”Ÿå­—</option>
                </select>
            </div>

            <div class="spelling-card" id="spellingCard">
                <div class="spelling-emoji" id="spellingEmoji">ðŸ±</div>
                <div class="spelling-chinese" id="spellingChinese">è²“</div>
                <div class="spelling-cantonese" id="spellingCantonese">å»£æ±è©±ï¼šè²“</div>
                
                <div class="spelling-hints">
                    <button class="hint-btn" onclick="playSpellingAudio()">ðŸ”Š è½ç™¼éŸ³</button>
                    <button class="hint-btn" onclick="showSyllableHint()">ðŸ“ éŸ³ç¯€æç¤º</button>
                    <button class="hint-btn" onclick="showFirstLetterHint()">ðŸ”¤ é¦–å­—æ¯æç¤º</button>
                    <button class="hint-btn" onclick="showLetterCount()">ðŸ”¢ å­—æ¯æ•¸é‡</button>
                </div>
                
                <div class="hint-display" id="hintDisplay"></div>
                
                <div class="spelling-input-area">
                    <input type="text" id="spellingInput" class="spelling-input" 
                           placeholder="è¼¸å…¥è‹±æ–‡ç”Ÿå­—..." 
                           autocomplete="off" 
                           autocapitalize="off"
                           onkeypress="handleSpellingKeyPress(event)">
                    <button class="check-btn" onclick="checkSpelling()">âœ“ æª¢æŸ¥ç­”æ¡ˆ</button>
                </div>
                
                <div class="spelling-result" id="spellingResult"></div>
                
                <div class="spelling-answer" id="spellingAnswer" style="display: none;">
                    <div class="correct-answer">
                        <span>æ­£ç¢ºç­”æ¡ˆï¼š</span>
                        <strong id="correctAnswerText"></strong>
                        <button class="speak-btn small" onclick="speakCorrectAnswer()">ðŸ”Š</button>
                    </div>
                    <div class="answer-syllables" id="answerSyllables"></div>
                    <div class="answer-example" id="answerExample"></div>
                </div>
                
                <div class="spelling-navigation">
                    <button class="nav-btn" onclick="previousSpellingWord()">â¬…ï¸ ä¸Šä¸€é¡Œ</button>
                    <span class="word-progress" id="wordProgress">1 / 30</span>
                    <button class="nav-btn" onclick="nextSpellingWord()">ä¸‹ä¸€é¡Œ âž¡ï¸</button>
                </div>
                
                <button class="restart-btn" onclick="restartSpelling()">ðŸ”„ é‡æ–°é–‹å§‹</button>
            </div>
        </div>
    </div>

    <!-- Quiz Section -->
    <div class="quiz-container" id="quizContainer" style="display: none;">
        <div class="quiz-box">
            <div class="quiz-header">
                <h2>ðŸŽ¯ ç”Ÿå­—æ¸¬é©—</h2>
                <div class="quiz-score">
                    <span>âœ… æ­£ç¢º: <strong id="quizCorrectCount">0</strong></span>
                    <span>âŒ éŒ¯èª¤: <strong id="quizWrongCount">0</strong></span>
                    <span>ðŸ“Š æ­£ç¢ºçŽ‡: <strong id="quizAccuracyRate">0%</strong></span>
                </div>
            </div>
            
            <div class="quiz-settings">
                <div class="quiz-setting-group">
                    <label>é¸æ“‡åˆ†é¡žï¼š</label>
                    <select id="quizCategory">
                        <option value="animals">ðŸ¦ Animals</option>
                        <option value="body">ðŸ‘¤ Body & Clothes</option>
                        <option value="food">ðŸŽ Food & Drink</option>
                        <option value="home">ðŸ  Home & School</option>
                        <option value="sports">âš½ Sports & Toys</option>
                        <option value="time">ðŸŒ¤ï¸ Time & Transport</option>
                        <option value="family">ðŸ‘¨â€ðŸ‘©â€ðŸ‘§ Family & Work</option>
                        <option value="places">ðŸ–ï¸ Places</option>
                        <option value="colours">ðŸŽ¨ Colours & Numbers</option>
                        <option value="verbs">ðŸƒ Verbs</option>
                        <option value="adjectives">ðŸ˜Š Adjectives</option>
                        <option value="all">ðŸŒŸ å…¨éƒ¨ç”Ÿå­—</option>
                    </select>
                </div>
                <div class="quiz-setting-group">
                    <label>é¡Œç›®æ•¸é‡ï¼š</label>
                    <select id="quizCount">
                        <option value="10">10 é¡Œ</option>
                        <option value="20" selected>20 é¡Œ</option>
                        <option value="30">30 é¡Œ</option>
                        <option value="50">50 é¡Œ</option>
                        <option value="all">å…¨éƒ¨</option>
                    </select>
                </div>
                <div class="quiz-setting-group">
                    <label>å‡ºé¡Œæ–¹å¼ï¼š</label>
                    <select id="quizType">
                        <option value="image">ðŸ–¼ï¸ åœ–ç•« + ä¸­æ–‡</option>
                        <option value="audio">ðŸ”Š è®€éŸ³ + ä¸­æ–‡</option>
                        <option value="mixed">ðŸŽ² æ··åˆæ¨¡å¼</option>
                    </select>
                </div>
                <button class="start-quiz-btn" onclick="startQuiz()">ðŸš€ é–‹å§‹æ¸¬é©—</button>
            </div>

            <div class="quiz-card" id="quizCard" style="display: none;">
                <div class="quiz-progress-bar">
                    <div class="quiz-progress-fill" id="quizProgressFill"></div>
                </div>
                <div class="quiz-progress-text" id="quizProgressText">é¡Œç›® 1 / 20</div>
                
                <div class="quiz-question">
                    <div class="quiz-emoji" id="quizEmoji">ðŸ±</div>
                    <div class="quiz-chinese" id="quizChinese">è²“</div>
                    <div class="quiz-cantonese" id="quizCantonese">å»£æ±è©±ï¼šè²“</div>
                    <button class="quiz-audio-btn" id="quizAudioBtn" onclick="playQuizAudio()">
                        ðŸ”Š è½è®€éŸ³
                    </button>
                </div>
                
                <div class="quiz-options" id="quizOptions">
                    <!-- Options will be generated here -->
                </div>
                
                <div class="quiz-feedback" id="quizFeedback"></div>
                
                <div class="quiz-answer-info" id="quizAnswerInfo" style="display: none;">
                    <div class="correct-word">
                        <span>æ­£ç¢ºç­”æ¡ˆï¼š</span>
                        <strong id="quizCorrectWord"></strong>
                        <button class="speak-btn small" onclick="speakQuizCorrectAnswer()">ðŸ”Š</button>
                    </div>
                    <div class="word-syllables" id="quizWordSyllables"></div>
                    <div class="word-example" id="quizWordExample"></div>
                </div>
                
                <button class="next-question-btn" id="nextQuestionBtn" onclick="nextQuizQuestion()" style="display: none;">
                    ä¸‹ä¸€é¡Œ âž¡ï¸
                </button>
            </div>

            <div class="quiz-result" id="quizResult" style="display: none;">
                <!-- Final result will be shown here -->
            </div>
        </div>
    </div>

    <div class="phonics-info" id="phonicsInfo">
        <h2>ðŸ“š Phonics è‡ªç„¶æ‹¼è®€å°çŸ¥è­˜</h2>
        <div class="phonics-grid">
            <div class="phonics-card">
                <h3>ðŸ”¤ ä¸€å…ƒä¸€è¼”å¾žå¾Œå¾€å‰åˆ‡</h3>
                <p>å¾žå–®è©žçµå°¾é–‹å§‹ï¼Œå°‡ã€Œä¸€å€‹è¼”éŸ³+ä¸€å€‹å…ƒéŸ³ã€åˆ†ç‚ºä¸€çµ„åˆ‡åˆ†ï¼Œå¹«åŠ©è¨˜æ†¶éŸ³ç¯€ã€‚</p>
                <div class="phonics-example">ä¾‹å¦‚: camera â†’ ca-me-ra</div>
            </div>
            <div class="phonics-card">
                <h3>ðŸŽµ äºŒåˆè¼”éŸ³ (Digraphs)</h3>
                <p>å…©å€‹è¼”éŸ³å­—æ¯ç™¼å‡ºä¸€å€‹æ–°çš„éŸ³: ch(/tÊƒ/), sh(/Êƒ/), th(/Î¸/æˆ–/Ã°/), wh, ph(/f/), ng(/Å‹/)</p>
                <div class="phonics-example">ä¾‹å¦‚: chair, ship, think</div>
            </div>
            <div class="phonics-card">
                <h3>ðŸ”— è¼”éŸ³é€£ç¶´ (Blends)</h3>
                <p>å…©ä¸‰å€‹è¼”éŸ³é€£è®€ï¼Œä¿ç•™å„è‡ªç™¼éŸ³: bl, cl, fl, br, cr, dr, st, sp, sw</p>
                <div class="phonics-example">ä¾‹å¦‚: black, frog, swim</div>
            </div>
            <div class="phonics-card">
                <h3>ðŸ¤« ä¸ç™¼éŸ³è¼”éŸ³</h3>
                <p>æŸäº›å­—æ¯çµ„åˆä¸­æœ‰ä¸ç™¼éŸ³çš„è¼”éŸ³</p>
                <div class="phonics-example">ä¾‹å¦‚: knee(kä¸ç™¼éŸ³), write(wä¸ç™¼éŸ³)</div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <p>ðŸŽ“ å¿«æ¨‚å­¸ç¿’è‹±æ–‡ | é©åˆå¹¼å…’åœ’è‡³å°ä¸€å­¸ç”Ÿ ðŸŽ“</p>
        <p>é»žæ“Šå­—å¡å¯ç¿»è½‰æŸ¥çœ‹ä¸­æ–‡è§£é‡‹</p>
    </footer>

    <script>

        // Vocabulary Data with Chinese translations, examples, and emojis
        const vocabularyData = {
            animals: [
                { word: "bear", chinese: "ç†Š", cantonese: "ç†Š", emoji: "ðŸ»", example: "The bear lives in the forest." },
                { word: "bee", chinese: "èœœèœ‚", cantonese: "èœœèœ‚", emoji: "ðŸ", example: "The bee makes sweet honey." },
                { word: "bird", chinese: "é³¥", cantonese: "é›€ä»”", emoji: "ðŸ¦", example: "The bird sings in the tree." },
                { word: "cat", chinese: "è²“", cantonese: "è²“", emoji: "ðŸ±", example: "My cat likes to sleep." },
                { word: "chicken", chinese: "é›ž", cantonese: "é›ž", emoji: "ðŸ”", example: "The chicken lays eggs." },
                { word: "cow", chinese: "ç‰›", cantonese: "ç‰›", emoji: "ðŸ„", example: "The cow gives us milk." },
                { word: "crocodile", chinese: "é±·é­š", cantonese: "é±·é­š", emoji: "ðŸŠ", example: "The crocodile has sharp teeth." },
                { word: "dog", chinese: "ç‹—", cantonese: "ç‹—", emoji: "ðŸ•", example: "The dog is my best friend." },
                { word: "donkey", chinese: "é©¢", cantonese: "é©¢ä»”", emoji: "ðŸ«", example: "The donkey carries heavy bags." },
                { word: "duck", chinese: "é´¨", cantonese: "é´¨", emoji: "ðŸ¦†", example: "The duck swims in the pond." },
                { word: "elephant", chinese: "å¤§è±¡", cantonese: "å¤§ç¬¨è±¡", emoji: "ðŸ˜", example: "The elephant has a long trunk." },
                { word: "fish", chinese: "é­š", cantonese: "é­š", emoji: "ðŸŸ", example: "The fish swims in the water." },
                { word: "frog", chinese: "é’è›™", cantonese: "é’è›™", emoji: "ðŸ¸", example: "The frog jumps very high." },
                { word: "giraffe", chinese: "é•·é ¸é¹¿", cantonese: "é•·é ¸é¹¿", emoji: "ðŸ¦’", example: "The giraffe has a long neck." },
                { word: "goat", chinese: "å±±ç¾Š", cantonese: "å±±ç¾Š", emoji: "ðŸ", example: "The goat eats grass." },
                { word: "hippo", chinese: "æ²³é¦¬", cantonese: "æ²³é¦¬", emoji: "ðŸ¦›", example: "The hippo lives in the river." },
                { word: "horse", chinese: "é¦¬", cantonese: "é¦¬", emoji: "ðŸ´", example: "The horse runs very fast." },
                { word: "jellyfish", chinese: "æ°´æ¯", cantonese: "æ°´æ¯", emoji: "ðŸª¼", example: "The jellyfish floats in the sea." },
                { word: "lizard", chinese: "èœ¥èœ´", cantonese: "å››è…³è›‡", emoji: "ðŸ¦Ž", example: "The lizard sits on the rock." },
                { word: "monkey", chinese: "çŒ´å­", cantonese: "é¦¬é¨®", emoji: "ðŸµ", example: "The monkey climbs the tree." },
                { word: "mouse", chinese: "è€é¼ ", cantonese: "è€é¼ ", emoji: "ðŸ­", example: "The mouse likes cheese." },
                { word: "polar bear", chinese: "åŒ—æ¥µç†Š", cantonese: "åŒ—æ¥µç†Š", emoji: "ðŸ»â€â„ï¸", example: "The polar bear loves the snow." },
                { word: "sheep", chinese: "ç¶¿ç¾Š", cantonese: "ç¶¿ç¾Š", emoji: "ðŸ‘", example: "The sheep has soft wool." },
                { word: "snake", chinese: "è›‡", cantonese: "è›‡", emoji: "ðŸ", example: "The snake slides on the ground." },
                { word: "spider", chinese: "èœ˜è››", cantonese: "èœ˜è››", emoji: "ðŸ•·ï¸", example: "The spider makes a web." },
                { word: "tiger", chinese: "è€è™Ž", cantonese: "è€è™Ž", emoji: "ðŸ¯", example: "The tiger is very strong." },
                { word: "zebra", chinese: "æ–‘é¦¬", cantonese: "æ–‘é¦¬", emoji: "ðŸ¦“", example: "The zebra has black and white stripes." },
                { word: "bat", chinese: "è™è ", cantonese: "è™è ", emoji: "ðŸ¦‡", example: "The bat flies at night." },
                { word: "dolphin", chinese: "æµ·è±š", cantonese: "æµ·è±š", emoji: "ðŸ¬", example: "The dolphin jumps out of the water." },
                { word: "kangaroo", chinese: "è¢‹é¼ ", cantonese: "è¢‹é¼ ", emoji: "ðŸ¦˜", example: "The kangaroo hops very far." }
            ],
            body: [
                { word: "arm", chinese: "æ‰‹è‡‚", cantonese: "æ‰‹è‡‚", emoji: "ðŸ’ª", example: "I wave my arm to say hello." },
                { word: "hat", chinese: "å¸½å­", cantonese: "å¸½", emoji: "ðŸŽ©", example: "I wear a hat in the sun." },
                { word: "body", chinese: "èº«é«”", cantonese: "èº«é«”", emoji: "ðŸ§", example: "My body is healthy and strong." },
                { word: "jacket", chinese: "å¤–å¥—", cantonese: "è¤¸", emoji: "ðŸ§¥", example: "I wear a jacket when it's cold." },
                { word: "ear", chinese: "è€³æœµ", cantonese: "è€³ä»”", emoji: "ðŸ‘‚", example: "I hear with my ears." },
                { word: "jeans", chinese: "ç‰›ä»”è¤²", cantonese: "ç‰›ä»”è¤²", emoji: "ðŸ‘–", example: "I like my blue jeans." },
                { word: "eye", chinese: "çœ¼ç›", cantonese: "çœ¼", emoji: "ðŸ‘ï¸", example: "I see with my eyes." },
                { word: "shirt", chinese: "è¥¯è¡«", cantonese: "æ¤è¡«", emoji: "ðŸ‘”", example: "My shirt is white." },
                { word: "face", chinese: "è‡‰", cantonese: "é¢", emoji: "ðŸ˜Š", example: "I wash my face every morning." },
                { word: "shoe", chinese: "éž‹å­", cantonese: "éž‹", emoji: "ðŸ‘Ÿ", example: "I put on my shoes." },
                { word: "foot", chinese: "è…³", cantonese: "è…³", emoji: "ðŸ¦¶", example: "I kick the ball with my foot." },
                { word: "shorts", chinese: "çŸ­è¤²", cantonese: "çŸ­è¤²", emoji: "ðŸ©³", example: "I wear shorts in summer." },
                { word: "feet", chinese: "é›™è…³", cantonese: "é›™è…³", emoji: "ðŸ¦¶", example: "I stand on my feet." },
                { word: "hair", chinese: "é ­é«®", cantonese: "é ­é«®", emoji: "ðŸ’‡", example: "My hair is black." },
                { word: "sock", chinese: "è¥ªå­", cantonese: "è¥ª", emoji: "ðŸ§¦", example: "I wear socks on my feet." },
                { word: "hand", chinese: "æ‰‹", cantonese: "æ‰‹", emoji: "âœ‹", example: "I write with my hand." },
                { word: "trousers", chinese: "é•·è¤²", cantonese: "é•·è¤²", emoji: "ðŸ‘–", example: "I wear trousers to school." },
                { word: "head", chinese: "é ­", cantonese: "é ­", emoji: "ðŸ—£ï¸", example: "I nod my head to say yes." },
                { word: "T-shirt", chinese: "Tæ¤", cantonese: "Tæ¤", emoji: "ðŸ‘•", example: "My T-shirt is red." },
                { word: "leg", chinese: "è…¿", cantonese: "è…³", emoji: "ðŸ¦µ", example: "I run with my legs." },
                { word: "watch", chinese: "æ‰‹éŒ¶", cantonese: "éŒ¶", emoji: "âŒš", example: "I check the time on my watch." },
                { word: "mouth", chinese: "å˜´å·´", cantonese: "å˜´", emoji: "ðŸ‘„", example: "I eat with my mouth." },
                { word: "coat", chinese: "å¤§è¡£", cantonese: "å¤§è¤¸", emoji: "ðŸ§¥", example: "I wear a coat in winter." },
                { word: "nose", chinese: "é¼»å­", cantonese: "é¼»", emoji: "ðŸ‘ƒ", example: "I smell with my nose." },
                { word: "helmet", chinese: "é ­ç›”", cantonese: "é ­ç›”", emoji: "â›‘ï¸", example: "I wear a helmet when I ride my bike." },
                { word: "back", chinese: "èƒŒ", cantonese: "èƒŒè„Š", emoji: "ðŸ”™", example: "My back is strong." },
                { word: "scarf", chinese: "åœå·¾", cantonese: "é ¸å·¾", emoji: "ðŸ§£", example: "I wrap a scarf around my neck." },
                { word: "beard", chinese: "é¬å­", cantonese: "é¬é¬š", emoji: "ðŸ§”", example: "My grandpa has a white beard." },
                { word: "mustache", chinese: "é¬é¬š", cantonese: "é¬é¬š", emoji: "ðŸ‘¨", example: "Dad has a small mustache." },
                { word: "neck", chinese: "è„–å­", cantonese: "é ¸", emoji: "ðŸ¦’", example: "I turn my neck to look around." },
                { word: "shoulder", chinese: "è‚©è†€", cantonese: "è†Šé ­", emoji: "ðŸ¤·", example: "I carry a bag on my shoulder." },
                { word: "tooth", chinese: "ç‰™é½’", cantonese: "ç‰™", emoji: "ðŸ¦·", example: "I brush my tooth every day." },
                { word: "teeth", chinese: "ç‰™é½’(è¤‡æ•¸)", cantonese: "ç‰™é½’", emoji: "ðŸ˜¬", example: "I have white teeth." },
                { word: "bag", chinese: "åŒ…/è¢‹", cantonese: "è¢‹", emoji: "ðŸ‘œ", example: "I put my books in my bag." },
                { word: "baseball cap", chinese: "æ£’çƒå¸½", cantonese: "æ£’çƒå¸½", emoji: "ðŸ§¢", example: "I wear a baseball cap to play." },
                { word: "boots", chinese: "é´å­", cantonese: "é´", emoji: "ðŸ‘¢", example: "I wear boots in the rain." },
                { word: "clothes", chinese: "è¡£æœ", cantonese: "è¡«", emoji: "ðŸ‘—", example: "I change my clothes every day." },
                { word: "dress", chinese: "è£™å­", cantonese: "è£™", emoji: "ðŸ‘—", example: "My sister wears a pretty dress." },
                { word: "glasses", chinese: "çœ¼é¡", cantonese: "çœ¼é¡", emoji: "ðŸ‘“", example: "Grandma wears glasses to read." },
                { word: "handbag", chinese: "æ‰‹æåŒ…", cantonese: "æ‰‹è¢‹", emoji: "ðŸ‘œ", example: "Mom has a nice handbag." }
            ],
            food: [
                { word: "apple", chinese: "è˜‹æžœ", cantonese: "è˜‹æžœ", emoji: "ðŸŽ", example: "I eat an apple every day." },
                { word: "onion", chinese: "æ´‹è”¥", cantonese: "æ´‹è”¥", emoji: "ðŸ§…", example: "The onion makes me cry." },
                { word: "banana", chinese: "é¦™è•‰", cantonese: "é¦™è•‰", emoji: "ðŸŒ", example: "The monkey likes bananas." },
                { word: "pea", chinese: "è±Œè±†", cantonese: "é’è±†", emoji: "ðŸ«›", example: "I like green peas." },
                { word: "bean", chinese: "è±†", cantonese: "è±†", emoji: "ðŸ«˜", example: "We grow beans in the garden." },
                { word: "pear", chinese: "æ¢¨", cantonese: "æ¢¨", emoji: "ðŸ", example: "The pear is sweet and juicy." },
                { word: "bread", chinese: "éºµåŒ…", cantonese: "éºµåŒ…", emoji: "ðŸž", example: "I eat bread for breakfast." },
                { word: "pie", chinese: "æ´¾/é¤¡é¤…", cantonese: "æ‰¹", emoji: "ðŸ¥§", example: "Grandma makes apple pie." },
                { word: "burger", chinese: "æ¼¢å ¡", cantonese: "æ¼¢å ¡åŒ…", emoji: "ðŸ”", example: "I love to eat burgers." },
                { word: "package", chinese: "åŒ…è£", cantonese: "åŒ…è£", emoji: "ðŸ“¦", example: "Open the package carefully." },
                { word: "cake", chinese: "è›‹ç³•", cantonese: "è›‹ç³•", emoji: "ðŸŽ‚", example: "I have cake on my birthday." },
                { word: "candy", chinese: "ç³–æžœ", cantonese: "ç³–", emoji: "ðŸ¬", example: "I like sweet candy." },
                { word: "sweet", chinese: "ç³–æžœ/ç”œçš„", cantonese: "ç³–", emoji: "ðŸ­", example: "This candy is very sweet." },
                { word: "carrot", chinese: "èƒ¡è˜¿è””", cantonese: "ç´…è˜¿è””", emoji: "ðŸ¥•", example: "Rabbits love carrots." },
                { word: "chips", chinese: "è–¯ç‰‡", cantonese: "è–¯ç‰‡", emoji: "ðŸŸ", example: "I eat chips with my burger." },
                { word: "fries", chinese: "è–¯æ¢", cantonese: "è–¯æ¢", emoji: "ðŸŸ", example: "French fries are yummy." },
                { word: "chocolate", chinese: "å·§å…‹åŠ›", cantonese: "æœ±å¤åŠ›", emoji: "ðŸ«", example: "I love chocolate cake." },
                { word: "coconut", chinese: "æ¤°å­", cantonese: "æ¤°å­", emoji: "ðŸ¥¥", example: "Coconut water is refreshing." },
                { word: "egg", chinese: "é›žè›‹", cantonese: "é›žè›‹", emoji: "ðŸ¥š", example: "I eat an egg for breakfast." },
                { word: "food", chinese: "é£Ÿç‰©", cantonese: "é£Ÿç‰©", emoji: "ðŸ½ï¸", example: "I love delicious food." },
                { word: "fruit", chinese: "æ°´æžœ", cantonese: "ç”Ÿæžœ", emoji: "ðŸ‡", example: "Fruit is good for you." },
                { word: "grape", chinese: "è‘¡è„", cantonese: "æå­", emoji: "ðŸ‡", example: "I like purple grapes." },
                { word: "ice cream", chinese: "é›ªç³•", cantonese: "é›ªç³•", emoji: "ðŸ¦", example: "I want ice cream in summer." },
                { word: "juice", chinese: "æžœæ±", cantonese: "æžœæ±", emoji: "ðŸ§ƒ", example: "I drink orange juice." },
                { word: "kiwi", chinese: "å¥‡ç•°æžœ", cantonese: "å¥‡ç•°æžœ", emoji: "ðŸ¥", example: "Kiwi is green inside." },
                { word: "lemon", chinese: "æª¸æª¬", cantonese: "æª¸æª¬", emoji: "ðŸ‹", example: "Lemon tastes sour." },
                { word: "lemonade", chinese: "æª¸æª¬æ°´", cantonese: "æª¸æª¬æ°´", emoji: "ðŸ‹", example: "I drink cold lemonade." },
                { word: "lime", chinese: "é’æª¸", cantonese: "é’æª¸", emoji: "ðŸˆ", example: "Lime is green and sour." },
                { word: "mango", chinese: "èŠ’æžœ", cantonese: "èŠ’æžœ", emoji: "ðŸ¥­", example: "Mango is my favorite fruit." },
                { word: "meat", chinese: "è‚‰", cantonese: "è‚‰", emoji: "ðŸ¥©", example: "I eat meat for dinner." },
                { word: "meatballs", chinese: "è‚‰ä¸¸", cantonese: "è‚‰ä¸¸", emoji: "ðŸ§†", example: "Mom makes yummy meatballs." },
                { word: "milk", chinese: "ç‰›å¥¶", cantonese: "ç‰›å¥¶", emoji: "ðŸ¥›", example: "I drink milk every morning." }
            ],
            home: [
                { word: "armchair", chinese: "æ‰¶æ‰‹æ¤…", cantonese: "æ‰¶æ‰‹æ¤…", emoji: "ðŸ›‹ï¸", example: "Grandpa sits in the armchair." },
                { word: "book", chinese: "æ›¸", cantonese: "æ›¸", emoji: "ðŸ“–", example: "I read a book every night." },
                { word: "bath", chinese: "æµ´ç¼¸/æ´—æ¾¡", cantonese: "æ²–æ¶¼", emoji: "ðŸ›", example: "I take a bath before bed." },
                { word: "bookcase", chinese: "æ›¸æž¶", cantonese: "æ›¸æž¶", emoji: "ðŸ“š", example: "My books are on the bookcase." },
                { word: "bathroom", chinese: "æµ´å®¤", cantonese: "å»æ‰€", emoji: "ðŸš¿", example: "I brush my teeth in the bathroom." },
                { word: "classroom", chinese: "æ•™å®¤", cantonese: "èª²å®¤", emoji: "ðŸ«", example: "We learn in the classroom." },
                { word: "box", chinese: "ç›’å­", cantonese: "ç›’", emoji: "ðŸ“¦", example: "I put toys in the box." },
                { word: "colour", chinese: "é¡è‰²", cantonese: "é¡è‰²", emoji: "ðŸŽ¨", example: "What colour do you like?" },
                { word: "chair", chinese: "æ¤…å­", cantonese: "æ¤…", emoji: "ðŸª‘", example: "I sit on a chair." },
                { word: "clock", chinese: "æ™‚é˜", cantonese: "é˜", emoji: "ðŸ•", example: "The clock shows the time." },
                { word: "desk", chinese: "æ›¸æ¡Œ", cantonese: "æž±", emoji: "ðŸª‘", example: "I do homework at my desk." },
                { word: "computer", chinese: "é›»è…¦", cantonese: "é›»è…¦", emoji: "ðŸ’»", example: "I play games on the computer." },
                { word: "cupboard", chinese: "æ«¥æ«ƒ", cantonese: "æ«ƒ", emoji: "ðŸ—„ï¸", example: "Cups are in the cupboard." },
                { word: "floor", chinese: "åœ°æ¿", cantonese: "åœ°ä¸‹", emoji: "ðŸ ", example: "I sit on the floor." },
                { word: "dining room", chinese: "é¤å»³", cantonese: "é£¯å»³", emoji: "ðŸ½ï¸", example: "We eat in the dining room." },
                { word: "keyboard", chinese: "éµç›¤", cantonese: "éµç›¤", emoji: "âŒ¨ï¸", example: "I type on the keyboard." },
                { word: "door", chinese: "é–€", cantonese: "é–€", emoji: "ðŸšª", example: "Please close the door." },
                { word: "letter", chinese: "ä¿¡/å­—æ¯", cantonese: "ä¿¡", emoji: "âœ‰ï¸", example: "I got a letter from grandma." },
                { word: "flower", chinese: "èŠ±", cantonese: "èŠ±", emoji: "ðŸŒ¸", example: "The flower is beautiful." },
                { word: "line", chinese: "ç·š/è¡Œ", cantonese: "ç·š", emoji: "âž–", example: "Draw a straight line." },
                { word: "garden", chinese: "èŠ±åœ’", cantonese: "èŠ±åœ’", emoji: "ðŸŒ·", example: "We play in the garden." },
                { word: "house", chinese: "æˆ¿å­", cantonese: "å±‹", emoji: "ðŸ ", example: "I live in a big house." },
                { word: "music", chinese: "éŸ³æ¨‚", cantonese: "éŸ³æ¨‚", emoji: "ðŸŽµ", example: "I love listening to music." },
                { word: "kitchen", chinese: "å»šæˆ¿", cantonese: "å»šæˆ¿", emoji: "ðŸ³", example: "Mom cooks in the kitchen." },
                { word: "number", chinese: "æ•¸å­—", cantonese: "æ•¸å­—", emoji: "ðŸ”¢", example: "Write the number five." },
                { word: "lamp", chinese: "ç‡ˆ", cantonese: "ç‡ˆ", emoji: "ðŸ’¡", example: "Turn on the lamp please." },
                { word: "page", chinese: "é ", cantonese: "é ", emoji: "ðŸ“„", example: "Turn to page ten." },
                { word: "living room", chinese: "å®¢å»³", cantonese: "å®¢å»³", emoji: "ðŸ›‹ï¸", example: "We watch TV in the living room." },
                { word: "painting", chinese: "ç•«", cantonese: "ç•«", emoji: "ðŸ–¼ï¸", example: "There is a painting on the wall." },
                { word: "mat", chinese: "å¢Šå­", cantonese: "è“†", emoji: "ðŸ§˜", example: "Wipe your feet on the mat." },
                { word: "mirror", chinese: "é¡å­", cantonese: "é¡", emoji: "ðŸªž", example: "I look in the mirror." },
                { word: "pen", chinese: "ç­†", cantonese: "ç­†", emoji: "ðŸ–Šï¸", example: "I write with a pen." },
                { word: "phone", chinese: "é›»è©±", cantonese: "é›»è©±", emoji: "ðŸ“±", example: "Mom talks on the phone." },
                { word: "pencil", chinese: "é‰›ç­†", cantonese: "é‰›ç­†", emoji: "âœï¸", example: "I draw with a pencil." },
                { word: "radio", chinese: "æ”¶éŸ³æ©Ÿ", cantonese: "æ”¶éŸ³æ©Ÿ", emoji: "ðŸ“»", example: "We listen to the radio." },
                { word: "poster", chinese: "æµ·å ±", cantonese: "æµ·å ±", emoji: "ðŸ–¼ï¸", example: "I have a poster on my wall." },
                { word: "rug", chinese: "åœ°æ¯¯", cantonese: "åœ°æ°ˆ", emoji: "ðŸŸ«", example: "The rug is soft." },
                { word: "rubber", chinese: "æ©¡çš®æ“¦", cantonese: "æ“¦è† ", emoji: "ðŸ“", example: "I use a rubber to erase." },
                { word: "sofa", chinese: "æ²™ç™¼", cantonese: "æ¢³åŒ–", emoji: "ðŸ›‹ï¸", example: "I sit on the sofa." },
                { word: "table", chinese: "æ¡Œå­", cantonese: "æž±", emoji: "ðŸª‘", example: "Put the book on the table." },
                { word: "school", chinese: "å­¸æ ¡", cantonese: "å­¸æ ¡", emoji: "ðŸ«", example: "I go to school every day." },
                { word: "television", chinese: "é›»è¦–", cantonese: "é›»è¦–", emoji: "ðŸ“º", example: "I watch television at home." },
                { word: "tick", chinese: "å‹¾è™Ÿ", cantonese: "å‰”", emoji: "âœ“", example: "Put a tick if it's correct." },
                { word: "tree", chinese: "æ¨¹", cantonese: "æ¨¹", emoji: "ðŸŒ³", example: "The bird is in the tree." },
                { word: "wall", chinese: "ç‰†", cantonese: "ç‰†", emoji: "ðŸ§±", example: "The clock is on the wall." },
                { word: "window", chinese: "çª—æˆ¶", cantonese: "çª—", emoji: "ðŸªŸ", example: "Open the window please." },
                { word: "word", chinese: "å–®è©ž", cantonese: "å­—", emoji: "ðŸ“", example: "Learn a new word today." },
                { word: "board", chinese: "é»‘æ¿", cantonese: "é»‘æ¿", emoji: "ðŸ“‹", example: "The teacher writes on the board." }
            ],
            sports: [
                { word: "badminton", chinese: "ç¾½æ¯›çƒ", cantonese: "ç¾½æ¯›çƒ", emoji: "ðŸ¸", example: "I play badminton with my friend." },
                { word: "baseball", chinese: "æ£’çƒ", cantonese: "æ£’çƒ", emoji: "âš¾", example: "Baseball is fun to play." },
                { word: "ball", chinese: "çƒ", cantonese: "æ³¢", emoji: "âš½", example: "I kick the ball." },
                { word: "board game", chinese: "æ£‹ç›¤éŠæˆ²", cantonese: "æ£‹ç›¤éŠæˆ²", emoji: "ðŸŽ²", example: "Let's play a board game." },
                { word: "basketball", chinese: "ç±ƒçƒ", cantonese: "ç±ƒçƒ", emoji: "ðŸ€", example: "I like playing basketball." },
                { word: "doll", chinese: "å¨ƒå¨ƒ", cantonese: "å…¬ä»”", emoji: "ðŸŽŽ", example: "My sister has a pretty doll." },
                { word: "bat", chinese: "çƒæ£’", cantonese: "çƒæ£’", emoji: "ðŸ", example: "I hit the ball with a bat." },
                { word: "monster", chinese: "æ€ªç‰©", cantonese: "æ€ªç¸", emoji: "ðŸ‘¹", example: "The monster is scary." },
                { word: "bike", chinese: "è‡ªè¡Œè»Š", cantonese: "å–®è»Š", emoji: "ðŸš²", example: "I ride my bike to school." },
                { word: "robot", chinese: "æ©Ÿå™¨äºº", cantonese: "æ©Ÿæ¢°äºº", emoji: "ðŸ¤–", example: "My robot can walk and talk." },
                { word: "camera", chinese: "ç›¸æ©Ÿ", cantonese: "ç›¸æ©Ÿ", emoji: "ðŸ“·", example: "I take photos with my camera." },
                { word: "teddy bear", chinese: "æ³°è¿ªç†Š", cantonese: "å•¤å•¤ç†Š", emoji: "ðŸ§¸", example: "I sleep with my teddy bear." },
                { word: "drawing", chinese: "ç•«ç•«", cantonese: "ç•«ç•«", emoji: "ðŸŽ¨", example: "I love drawing pictures." },
                { word: "fishing", chinese: "é‡£é­š", cantonese: "é‡£é­š", emoji: "ðŸŽ£", example: "Dad and I go fishing." },
                { word: "football", chinese: "è¶³çƒ", cantonese: "è¶³çƒ", emoji: "ðŸˆ", example: "I play football on Sundays." },
                { word: "guitar", chinese: "å‰ä»–", cantonese: "çµä»–", emoji: "ðŸŽ¸", example: "I can play the guitar." },
                { word: "hockey", chinese: "æ›²æ£çƒ", cantonese: "æ›²æ£çƒ", emoji: "ðŸ’", example: "Hockey is played on ice." },
                { word: "kite", chinese: "é¢¨ç®", cantonese: "é¢¨ç®", emoji: "ðŸª", example: "I fly a kite in the park." },
                { word: "photo", chinese: "ç…§ç‰‡", cantonese: "ç›¸", emoji: "ðŸ“¸", example: "This is a photo of my family." },
                { word: "piano", chinese: "é‹¼ç´", cantonese: "ç´", emoji: "ðŸŽ¹", example: "I practice piano every day." },
                { word: "picture", chinese: "åœ–ç‰‡", cantonese: "åœ–ç‰‡", emoji: "ðŸ–¼ï¸", example: "Draw a picture of your house." },
                { word: "skateboard", chinese: "æ»‘æ¿", cantonese: "æ»‘æ¿", emoji: "ðŸ›¹", example: "I ride my skateboard at the park." },
                { word: "soccer", chinese: "è¶³çƒ", cantonese: "è¶³çƒ", emoji: "âš½", example: "I play soccer after school." },
                { word: "table tennis", chinese: "ä¹’ä¹“çƒ", cantonese: "ä¹’ä¹“æ³¢", emoji: "ðŸ“", example: "Table tennis is fast and fun." },
                { word: "tennis", chinese: "ç¶²çƒ", cantonese: "ç¶²çƒ", emoji: "ðŸŽ¾", example: "I play tennis with my mom." },
                { word: "racket", chinese: "çƒæ‹", cantonese: "çƒæ‹", emoji: "ðŸ¸", example: "I swing my racket to hit the ball." },
                { word: "toy", chinese: "çŽ©å…·", cantonese: "çŽ©å…·", emoji: "ðŸ§¸", example: "I have many toys." },
                { word: "comic book", chinese: "æ¼«ç•«æ›¸", cantonese: "æ¼«ç•«", emoji: "ðŸ“š", example: "I read a comic book." },
                { word: "film", chinese: "é›»å½±", cantonese: "æˆ²", emoji: "ðŸŽ¬", example: "Let's watch a film tonight." },
                { word: "ice skating", chinese: "æºœå†°", cantonese: "æºœå†°", emoji: "â›¸ï¸", example: "I go ice skating in winter." },
                { word: "movie", chinese: "é›»å½±", cantonese: "é›»å½±", emoji: "ðŸŽ¥", example: "I like watching movies." },
                { word: "net", chinese: "ç¶²", cantonese: "ç¶²", emoji: "ðŸ¥…", example: "The ball went into the net." },
                { word: "present", chinese: "ç¦®ç‰©", cantonese: "ç¦®ç‰©", emoji: "ðŸŽ", example: "I got a present for my birthday." },
                { word: "roller skating", chinese: "è¼ªæ»‘", cantonese: "è¸©è½†", emoji: "ðŸ›¼", example: "Roller skating is so fun!" },
                { word: "sail", chinese: "å¸†/èˆªè¡Œ", cantonese: "å¸†", emoji: "â›µ", example: "We sail on the lake." },
                { word: "towel", chinese: "æ¯›å·¾", cantonese: "æ¯›å·¾", emoji: "ðŸ§–", example: "I dry myself with a towel." },
                { word: "alien", chinese: "å¤–æ˜Ÿäºº", cantonese: "å¤–æ˜Ÿäºº", emoji: "ðŸ‘½", example: "The alien comes from space." },
                { word: "balloon", chinese: "æ°£çƒ", cantonese: "æ°£çƒ", emoji: "ðŸŽˆ", example: "I have a red balloon." }
            ],
            time: [
                { word: "boat", chinese: "èˆ¹", cantonese: "èˆ¹", emoji: "â›µ", example: "We sail on a boat." },
                { word: "Sunday", chinese: "æ˜ŸæœŸæ—¥", cantonese: "æ˜ŸæœŸæ—¥", emoji: "ðŸ“…", example: "I rest on Sunday." },
                { word: "bus", chinese: "å·´å£«", cantonese: "å·´å£«", emoji: "ðŸšŒ", example: "I take the bus to school." },
                { word: "cloudy", chinese: "å¤šé›²çš„", cantonese: "é™°å¤©", emoji: "â˜ï¸", example: "Today is cloudy." },
                { word: "car", chinese: "æ±½è»Š", cantonese: "è»Š", emoji: "ðŸš—", example: "Dad drives the car." },
                { word: "ice", chinese: "å†°", cantonese: "å†°", emoji: "ðŸ§Š", example: "The ice is very cold." },
                { word: "helicopter", chinese: "ç›´å‡æ©Ÿ", cantonese: "ç›´å‡æ©Ÿ", emoji: "ðŸš", example: "The helicopter flies in the sky." },
                { word: "rain", chinese: "é›¨", cantonese: "é›¨", emoji: "ðŸŒ§ï¸", example: "I hear the rain falling." },
                { word: "lorry", chinese: "å¡è»Š", cantonese: "è²¨è»Š", emoji: "ðŸš›", example: "The lorry carries goods." },
                { word: "rainbow", chinese: "å½©è™¹", cantonese: "å½©è™¹", emoji: "ðŸŒˆ", example: "I see a rainbow after the rain." },
                { word: "motorbike", chinese: "æ‘©æ‰˜è»Š", cantonese: "é›»å–®è»Š", emoji: "ðŸï¸", example: "The motorbike is very fast." },
                { word: "snow", chinese: "é›ª", cantonese: "é›ª", emoji: "â„ï¸", example: "I play in the snow." },
                { word: "plane", chinese: "é£›æ©Ÿ", cantonese: "é£›æ©Ÿ", emoji: "âœˆï¸", example: "The plane flies high." },
                { word: "sunny", chinese: "æ™´æœ—çš„", cantonese: "æ™´å¤©", emoji: "â˜€ï¸", example: "It is sunny today." },
                { word: "ship", chinese: "è¼ªèˆ¹", cantonese: "èˆ¹", emoji: "ðŸš¢", example: "The ship sails on the sea." },
                { word: "windy", chinese: "æœ‰é¢¨çš„", cantonese: "å¤§é¢¨", emoji: "ðŸ’¨", example: "It is very windy today." },
                { word: "train", chinese: "ç«è»Š", cantonese: "ç«è»Š", emoji: "ðŸš‚", example: "I go by train." },
                { word: "truck", chinese: "å¡è»Š", cantonese: "è²¨è»Š", emoji: "ðŸšš", example: "The truck is big and heavy." },
                { word: "bus station", chinese: "å·´å£«ç«™", cantonese: "å·´å£«ç«™", emoji: "ðŸš", example: "Wait at the bus station." },
                { word: "ticket", chinese: "ç¥¨", cantonese: "é£›", emoji: "ðŸŽ«", example: "I buy a ticket for the train." },
                { word: "tractor", chinese: "æ‹–æ‹‰æ©Ÿ", cantonese: "æ‹–æ‹‰æ©Ÿ", emoji: "ðŸšœ", example: "The farmer drives a tractor." },
                { word: "afternoon", chinese: "ä¸‹åˆ", cantonese: "ä¸‹æ™", emoji: "ðŸŒ¤ï¸", example: "I nap in the afternoon." },
                { word: "birthday", chinese: "ç”Ÿæ—¥", cantonese: "ç”Ÿæ—¥", emoji: "ðŸŽ‚", example: "Today is my birthday!" },
                { word: "evening", chinese: "å‚æ™š", cantonese: "é»ƒæ˜", emoji: "ðŸŒ†", example: "We eat dinner in the evening." },
                { word: "morning", chinese: "æ—©ä¸Š", cantonese: "æœæ—©", emoji: "ðŸŒ…", example: "I wake up in the morning." },
                { word: "night", chinese: "æ™šä¸Š", cantonese: "å¤œæ™š", emoji: "ðŸŒ™", example: "I sleep at night." },
                { word: "today", chinese: "ä»Šå¤©", cantonese: "ä»Šæ—¥", emoji: "ðŸ“†", example: "Today is a happy day." },
                { word: "year", chinese: "å¹´", cantonese: "å¹´", emoji: "ðŸ“…", example: "A year has twelve months." },
                { word: "month", chinese: "æœˆ", cantonese: "æœˆ", emoji: "ðŸ—“ï¸", example: "My birthday is next month." },
                { word: "week", chinese: "é€±", cantonese: "æ˜ŸæœŸ", emoji: "ðŸ“†", example: "There are seven days in a week." },
                { word: "weekend", chinese: "é€±æœ«", cantonese: "é€±æœ«", emoji: "ðŸŽ‰", example: "I play on the weekend." },
                { word: "yesterday", chinese: "æ˜¨å¤©", cantonese: "å°‹æ—¥", emoji: "âª", example: "Yesterday was fun." },
                { word: "Monday", chinese: "æ˜ŸæœŸä¸€", cantonese: "æ˜ŸæœŸä¸€", emoji: "ðŸ“…", example: "School starts on Monday." },
                { word: "Tuesday", chinese: "æ˜ŸæœŸäºŒ", cantonese: "æ˜ŸæœŸäºŒ", emoji: "ðŸ“…", example: "I have art on Tuesday." },
                { word: "Wednesday", chinese: "æ˜ŸæœŸä¸‰", cantonese: "æ˜ŸæœŸä¸‰", emoji: "ðŸ“…", example: "Wednesday is in the middle of the week." },
                { word: "Thursday", chinese: "æ˜ŸæœŸå››", cantonese: "æ˜ŸæœŸå››", emoji: "ðŸ“…", example: "I swim on Thursday." },
                { word: "Friday", chinese: "æ˜ŸæœŸäº”", cantonese: "æ˜ŸæœŸäº”", emoji: "ðŸ“…", example: "Friday is the last school day." },
                { word: "Saturday", chinese: "æ˜ŸæœŸå…­", cantonese: "æ˜ŸæœŸå…­", emoji: "ðŸ“…", example: "I play games on Saturday." }
            ],
            family: [
                { word: "teacher", chinese: "è€å¸«", cantonese: "è€å¸«", emoji: "ðŸ‘©â€ðŸ«", example: "My teacher is very kind." },
                { word: "driver", chinese: "å¸æ©Ÿ", cantonese: "å¸æ©Ÿ", emoji: "ðŸš—", example: "The driver drives the bus." },
                { word: "clown", chinese: "å°ä¸‘", cantonese: "å°ä¸‘", emoji: "ðŸ¤¡", example: "The clown is very funny." },
                { word: "farmer", chinese: "è¾²å¤«", cantonese: "è¾²å¤«", emoji: "ðŸ‘¨â€ðŸŒ¾", example: "The farmer grows vegetables." },
                { word: "cook", chinese: "å»šå¸«", cantonese: "å»šå¸«", emoji: "ðŸ‘¨â€ðŸ³", example: "The cook makes delicious food." },
                { word: "film star", chinese: "é›»å½±æ˜Žæ˜Ÿ", cantonese: "æ˜Žæ˜Ÿ", emoji: "â­", example: "The film star is famous." },
                { word: "dentist", chinese: "ç‰™é†«", cantonese: "ç‰™é†«", emoji: "ðŸ¦·", example: "I visit the dentist every year." },
                { word: "nurse", chinese: "è­·å£«", cantonese: "è­·å£«", emoji: "ðŸ‘©â€âš•ï¸", example: "The nurse helps sick people." },
                { word: "doctor", chinese: "é†«ç”Ÿ", cantonese: "é†«ç”Ÿ", emoji: "ðŸ‘¨â€âš•ï¸", example: "The doctor makes me feel better." },
                { word: "pirate", chinese: "æµ·ç›œ", cantonese: "æµ·ç›œ", emoji: "ðŸ´â€â˜ ï¸", example: "The pirate has a big ship." },
                { word: "baby", chinese: "å¬°å…’", cantonese: "BB", emoji: "ðŸ‘¶", example: "The baby is sleeping." },
                { word: "man", chinese: "ç”·äºº", cantonese: "ç”·äºº", emoji: "ðŸ‘¨", example: "The man is tall." },
                { word: "mother", chinese: "åª½åª½", cantonese: "åª½åª½", emoji: "ðŸ‘©", example: "My mother loves me." },
                { word: "sister", chinese: "å§å¦¹", cantonese: "å®¶å§/å¦¹å¦¹", emoji: "ðŸ‘§", example: "My sister plays with me." },
                { word: "cousin", chinese: "è¡¨/å ‚å…„å¼Ÿå§å¦¹", cantonese: "è¡¨å“¥/è¡¨å§", emoji: "ðŸ§’", example: "My cousin is my friend." },
                { word: "woman", chinese: "å¥³äºº", cantonese: "å¥³äºº", emoji: "ðŸ‘©", example: "The woman is kind." },
                { word: "aunt", chinese: "é˜¿å§¨/å§‘å§‘", cantonese: "å§¨åª½/å§‘åª½", emoji: "ðŸ‘©", example: "My aunt gives me presents." },
                { word: "daughter", chinese: "å¥³å…’", cantonese: "å¥³", emoji: "ðŸ‘§", example: "She is their daughter." },
                { word: "father", chinese: "çˆ¸çˆ¸", cantonese: "çˆ¸çˆ¸", emoji: "ðŸ‘¨", example: "My father is strong." },
                { word: "friend", chinese: "æœ‹å‹", cantonese: "æœ‹å‹", emoji: "ðŸ¤", example: "You are my best friend." },
                { word: "son", chinese: "å…’å­", cantonese: "ä»”", emoji: "ðŸ‘¦", example: "He is their son." },
                { word: "girl", chinese: "å¥³å­©", cantonese: "å¥³ä»”", emoji: "ðŸ‘§", example: "The girl is happy." },
                { word: "uncle", chinese: "å”å”/èˆ…èˆ…", cantonese: "å”å”/èˆ…çˆ¶", emoji: "ðŸ‘¨", example: "My uncle is funny." },
                { word: "grandfather", chinese: "çˆºçˆº/å¤–å…¬", cantonese: "çˆºçˆº/å…¬å…¬", emoji: "ðŸ‘´", example: "My grandfather tells stories." },
                { word: "grandmother", chinese: "å¥¶å¥¶/å¤–å©†", cantonese: "å«²å«²/å©†å©†", emoji: "ðŸ‘µ", example: "My grandmother cooks well." }
            ],
            places: [
                { word: "beach", chinese: "æµ·ç˜", cantonese: "æ²™ç˜", emoji: "ðŸ–ï¸", example: "I play on the beach." },
                { word: "sea", chinese: "æµ·", cantonese: "æµ·", emoji: "ðŸŒŠ", example: "The sea is blue." },
                { word: "street", chinese: "è¡—é“", cantonese: "è¡—", emoji: "ðŸ›¤ï¸", example: "I walk down the street." },
                { word: "building", chinese: "å»ºç¯‰ç‰©", cantonese: "å¤§å»ˆ", emoji: "ðŸ¢", example: "The building is very tall." },
                { word: "forest", chinese: "æ£®æž—", cantonese: "æ£®æž—", emoji: "ðŸŒ²", example: "Animals live in the forest." },
                { word: "island", chinese: "å³¶å¶¼", cantonese: "å³¶", emoji: "ðŸï¸", example: "The island is beautiful." },
                { word: "jungle", chinese: "å¢æž—", cantonese: "å¢æž—", emoji: "ðŸŒ´", example: "Monkeys live in the jungle." },
                { word: "lake", chinese: "æ¹–", cantonese: "æ¹–", emoji: "ðŸžï¸", example: "We swim in the lake." },
                { word: "mountain", chinese: "å±±", cantonese: "å±±", emoji: "â›°ï¸", example: "The mountain is very high." },
                { word: "river", chinese: "æ²³", cantonese: "æ²³", emoji: "ðŸžï¸", example: "Fish swim in the river." },
                { word: "sky", chinese: "å¤©ç©º", cantonese: "å¤©", emoji: "ðŸŒ¤ï¸", example: "The sky is blue today." },
                { word: "town", chinese: "åŸŽéŽ®", cantonese: "éŽ®", emoji: "ðŸ˜ï¸", example: "I live in a small town." },
                { word: "village", chinese: "æ‘èŽŠ", cantonese: "æ‘", emoji: "ðŸ¡", example: "The village is quiet." },
                { word: "waterfall", chinese: "ç€‘å¸ƒ", cantonese: "ç€‘å¸ƒ", emoji: "ðŸ’§", example: "The waterfall is amazing." },
                { word: "bookshop", chinese: "æ›¸åº—", cantonese: "æ›¸åº—", emoji: "ðŸ“š", example: "I buy books at the bookshop." },
                { word: "cinema", chinese: "é›»å½±é™¢", cantonese: "æˆ²é™¢", emoji: "ðŸŽ¬", example: "Let's go to the cinema." },
                { word: "park", chinese: "å…¬åœ’", cantonese: "å…¬åœ’", emoji: "ðŸŒ³", example: "I play in the park." },
                { word: "playground", chinese: "éŠæ¨‚å ´", cantonese: "éŠæ¨‚å ´", emoji: "ðŸ›", example: "Children play at the playground." },
                { word: "store", chinese: "å•†åº—", cantonese: "é‹ªé ­", emoji: "ðŸª", example: "I buy candy at the store." },
                { word: "zoo", chinese: "å‹•ç‰©åœ’", cantonese: "å‹•ç‰©åœ’", emoji: "ðŸ¦", example: "I see animals at the zoo." },
                { word: "cafÃ©", chinese: "å’–å•¡é¤¨", cantonese: "å’–å•¡åº—", emoji: "â˜•", example: "We drink juice at the cafÃ©." },
                { word: "car park", chinese: "åœè»Šå ´", cantonese: "åœè»Šå ´", emoji: "ðŸ…¿ï¸", example: "Dad parks the car in the car park." },
                { word: "circus", chinese: "é¦¬æˆ²åœ˜", cantonese: "é¦¬æˆ²åœ˜", emoji: "ðŸŽª", example: "The circus has clowns." },
                { word: "farm", chinese: "è¾²å ´", cantonese: "è¾²å ´", emoji: "ðŸŒ¾", example: "Animals live on the farm." },
                { word: "funfair", chinese: "éŠæ¨‚å ´", cantonese: "å˜‰å¹´è¯", emoji: "ðŸŽ¡", example: "I go to the funfair." },
                { word: "hospital", chinese: "é†«é™¢", cantonese: "é†«é™¢", emoji: "ðŸ¥", example: "Doctors work at the hospital." },
                { word: "library", chinese: "åœ–æ›¸é¤¨", cantonese: "åœ–æ›¸é¤¨", emoji: "ðŸ“–", example: "I read books at the library." },
                { word: "map", chinese: "åœ°åœ–", cantonese: "åœ°åœ–", emoji: "ðŸ—ºï¸", example: "I look at the map." },
                { word: "market", chinese: "å¸‚å ´", cantonese: "è¡—å¸‚", emoji: "ðŸ›’", example: "We buy food at the market." },
                { word: "road", chinese: "é“è·¯", cantonese: "è·¯", emoji: "ðŸ›£ï¸", example: "Look both ways before crossing the road." },
                { word: "shopping centre", chinese: "è³¼ç‰©ä¸­å¿ƒ", cantonese: "å•†å ´", emoji: "ðŸ›ï¸", example: "I shop at the shopping centre." },
                { word: "sports centre", chinese: "é«”è‚²ä¸­å¿ƒ", cantonese: "é«”è‚²é¤¨", emoji: "ðŸŸï¸", example: "I exercise at the sports centre." },
                { word: "square", chinese: "å»£å ´", cantonese: "å»£å ´", emoji: "ðŸ›ï¸", example: "People gather at the square." },
                { word: "supermarket", chinese: "è¶…å¸‚", cantonese: "è¶…ç´šå¸‚å ´", emoji: "ðŸ›’", example: "Mom shops at the supermarket." },
                { word: "swimming pool", chinese: "æ¸¸æ³³æ± ", cantonese: "æ¸¸æ³³æ± ", emoji: "ðŸŠ", example: "I swim at the swimming pool." }
            ],
            colours: [
                { word: "black", chinese: "é»‘è‰²", cantonese: "é»‘è‰²", emoji: "â¬›", example: "My shoes are black." },
                { word: "four", chinese: "å››", cantonese: "å››", emoji: "4ï¸âƒ£", example: "I have four pencils." },
                { word: "blue", chinese: "è—è‰²", cantonese: "è—è‰²", emoji: "ðŸ”µ", example: "The sky is blue." },
                { word: "five", chinese: "äº”", cantonese: "äº”", emoji: "5ï¸âƒ£", example: "I have five fingers." },
                { word: "brown", chinese: "æ£•è‰²", cantonese: "å•¡è‰²", emoji: "ðŸŸ«", example: "The dog is brown." },
                { word: "six", chinese: "å…­", cantonese: "å…­", emoji: "6ï¸âƒ£", example: "I am six years old." },
                { word: "grey", chinese: "ç°è‰²", cantonese: "ç°è‰²", emoji: "ðŸ©¶", example: "The elephant is grey." },
                { word: "seven", chinese: "ä¸ƒ", cantonese: "ä¸ƒ", emoji: "7ï¸âƒ£", example: "There are seven days in a week." },
                { word: "green", chinese: "ç¶ è‰²", cantonese: "ç¶ è‰²", emoji: "ðŸŸ¢", example: "Grass is green." },
                { word: "eight", chinese: "å…«", cantonese: "å…«", emoji: "8ï¸âƒ£", example: "An octopus has eight legs." },
                { word: "orange", chinese: "æ©™è‰²", cantonese: "æ©™è‰²", emoji: "ðŸŸ ", example: "The orange is orange." },
                { word: "nine", chinese: "ä¹", cantonese: "ä¹", emoji: "9ï¸âƒ£", example: "I have nine crayons." },
                { word: "pink", chinese: "ç²‰ç´…è‰²", cantonese: "ç²‰ç´…è‰²", emoji: "ðŸ©·", example: "The flower is pink." },
                { word: "ten", chinese: "å", cantonese: "å", emoji: "ðŸ”Ÿ", example: "I can count to ten." },
                { word: "purple", chinese: "ç´«è‰²", cantonese: "ç´«è‰²", emoji: "ðŸŸ£", example: "Grapes are purple." },
                { word: "eleven", chinese: "åä¸€", cantonese: "åä¸€", emoji: "1ï¸âƒ£1ï¸âƒ£", example: "Eleven comes after ten." },
                { word: "red", chinese: "ç´…è‰²", cantonese: "ç´…è‰²", emoji: "ðŸ”´", example: "The apple is red." },
                { word: "twelve", chinese: "åäºŒ", cantonese: "åäºŒ", emoji: "1ï¸âƒ£2ï¸âƒ£", example: "There are twelve months." },
                { word: "white", chinese: "ç™½è‰²", cantonese: "ç™½è‰²", emoji: "âšª", example: "Snow is white." },
                { word: "thirteen", chinese: "åä¸‰", cantonese: "åä¸‰", emoji: "1ï¸âƒ£3ï¸âƒ£", example: "Thirteen is my lucky number." },
                { word: "yellow", chinese: "é»ƒè‰²", cantonese: "é»ƒè‰²", emoji: "ðŸŸ¡", example: "The sun is yellow." },
                { word: "fourteen", chinese: "åå››", cantonese: "åå››", emoji: "1ï¸âƒ£4ï¸âƒ£", example: "I have fourteen books." },
                { word: "fifteen", chinese: "åäº”", cantonese: "åäº”", emoji: "1ï¸âƒ£5ï¸âƒ£", example: "Fifteen minutes to go." },
                { word: "sixteen", chinese: "åå…­", cantonese: "åå…­", emoji: "1ï¸âƒ£6ï¸âƒ£", example: "She is sixteen years old." },
                { word: "seventeen", chinese: "åä¸ƒ", cantonese: "åä¸ƒ", emoji: "1ï¸âƒ£7ï¸âƒ£", example: "I see seventeen birds." },
                { word: "twenty", chinese: "äºŒå", cantonese: "å»¿", emoji: "2ï¸âƒ£0ï¸âƒ£", example: "I count to twenty." },
                { word: "three", chinese: "ä¸‰", cantonese: "ä¸‰", emoji: "3ï¸âƒ£", example: "I have three cats." },
                { word: "eighteen", chinese: "åå…«", cantonese: "åå…«", emoji: "1ï¸âƒ£8ï¸âƒ£", example: "Eighteen is a big number." },
                { word: "nineteen", chinese: "åä¹", cantonese: "åä¹", emoji: "1ï¸âƒ£9ï¸âƒ£", example: "Nineteen comes before twenty." },
                { word: "seventy", chinese: "ä¸ƒå", cantonese: "ä¸ƒå", emoji: "7ï¸âƒ£0ï¸âƒ£", example: "Grandpa is seventy years old." },
                { word: "thirty", chinese: "ä¸‰å", cantonese: "ä¸‰å", emoji: "3ï¸âƒ£0ï¸âƒ£", example: "There are thirty days." },
                { word: "ninety", chinese: "ä¹å", cantonese: "ä¹å", emoji: "9ï¸âƒ£0ï¸âƒ£", example: "Ninety is a big number." },
                { word: "forty", chinese: "å››å", cantonese: "å››å", emoji: "4ï¸âƒ£0ï¸âƒ£", example: "She is forty years old." },
                { word: "fifty", chinese: "äº”å", cantonese: "äº”å", emoji: "5ï¸âƒ£0ï¸âƒ£", example: "Fifty cents for a candy." },
                { word: "sixty", chinese: "å…­å", cantonese: "å…­å", emoji: "6ï¸âƒ£0ï¸âƒ£", example: "There are sixty seconds." }
            ],
            verbs: [
                { word: "ask", chinese: "å•", cantonese: "å•", emoji: "â“", example: "I ask my teacher a question." },
                { word: "know", chinese: "çŸ¥é“", cantonese: "çŸ¥é“", emoji: "ðŸ§ ", example: "I know the answer." },
                { word: "bounce", chinese: "å½ˆè·³", cantonese: "å½ˆ", emoji: "âš½", example: "I bounce the ball." },
                { word: "learn", chinese: "å­¸ç¿’", cantonese: "å­¸", emoji: "ðŸ“š", example: "I learn new words." },
                { word: "catch", chinese: "æŠ“ä½", cantonese: "æŽ¥ä½", emoji: "ðŸ¤¾", example: "I catch the ball." },
                { word: "wear", chinese: "ç©¿", cantonese: "è‘—", emoji: "ðŸ‘”", example: "I wear my uniform." },
                { word: "draw", chinese: "ç•«", cantonese: "ç•«", emoji: "âœï¸", example: "I draw a picture." },
                { word: "call", chinese: "æ‰“é›»è©±/å«", cantonese: "æ‰“é›»è©±", emoji: "ðŸ“ž", example: "I call my friend." },
                { word: "drive", chinese: "é§•é§›", cantonese: "æ¸è»Š", emoji: "ðŸš—", example: "Dad drives to work." },
                { word: "carry", chinese: "æ”œå¸¶", cantonese: "æ”ž", emoji: "ðŸŽ’", example: "I carry my bag." },
                { word: "drink", chinese: "å–", cantonese: "é£²", emoji: "ðŸ¥¤", example: "I drink water." },
                { word: "climb", chinese: "çˆ¬", cantonese: "çˆ¬", emoji: "ðŸ§—", example: "I climb the tree." },
                { word: "eat", chinese: "åƒ", cantonese: "é£Ÿ", emoji: "ðŸ½ï¸", example: "I eat breakfast." },
                { word: "drop", chinese: "æŽ‰è½", cantonese: "è·Œ", emoji: "â¬‡ï¸", example: "Don't drop the glass." },
                { word: "find", chinese: "æ‰¾åˆ°", cantonese: "æµåˆ°", emoji: "ðŸ”", example: "I find my toy." },
                { word: "fix", chinese: "ä¿®ç†", cantonese: "æ•´", emoji: "ðŸ”§", example: "Dad can fix the bike." },
                { word: "fly", chinese: "é£›", cantonese: "é£›", emoji: "âœˆï¸", example: "Birds can fly." },
                { word: "help", chinese: "å¹«åŠ©", cantonese: "å¹«", emoji: "ðŸ¤", example: "I help my mom." },
                { word: "go", chinese: "åŽ»", cantonese: "åŽ»", emoji: "ðŸš¶", example: "I go to school." },
                { word: "invite", chinese: "é‚€è«‹", cantonese: "é‚€è«‹", emoji: "ðŸ’Œ", example: "I invite my friends." },
                { word: "light", chinese: "é»žäº®", cantonese: "è‘—ç‡ˆ", emoji: "ðŸ’¡", example: "I light the candle." },
                { word: "jump", chinese: "è·³", cantonese: "è·³", emoji: "ðŸ¦˜", example: "I jump very high." },
                { word: "move", chinese: "ç§»å‹•", cantonese: "éƒ", emoji: "ðŸƒ", example: "I move the chair." },
                { word: "kick", chinese: "è¸¢", cantonese: "è¸¢", emoji: "âš½", example: "I kick the ball." },
                { word: "practice", chinese: "ç·´ç¿’", cantonese: "ç·´ç¿’", emoji: "ðŸŽ¯", example: "I practice every day." },
                { word: "look", chinese: "çœ‹", cantonese: "ç‡", emoji: "ðŸ‘€", example: "I look at the book." },
                { word: "shop", chinese: "è³¼ç‰©", cantonese: "è²·å˜¢", emoji: "ðŸ›ï¸", example: "I shop with mom." },
                { word: "paint", chinese: "ç¹ªç•«", cantonese: "æ²¹æ¼†/ç•«", emoji: "ðŸŽ¨", example: "I paint a picture." },
                { word: "shout", chinese: "å–Šå«", cantonese: "å—Œ", emoji: "ðŸ“¢", example: "Don't shout in class." },
                { word: "play", chinese: "çŽ©", cantonese: "çŽ©", emoji: "ðŸŽ®", example: "I play with my friends." },
                { word: "travel", chinese: "æ—…è¡Œ", cantonese: "æ—…è¡Œ", emoji: "âœˆï¸", example: "I travel with my family." },
                { word: "read", chinese: "é–±è®€", cantonese: "ç‡æ›¸", emoji: "ðŸ“–", example: "I read a book." },
                { word: "write", chinese: "å¯«", cantonese: "å¯«", emoji: "âœï¸", example: "I write my name." },
                { word: "run", chinese: "è·‘", cantonese: "è·‘", emoji: "ðŸƒ", example: "I run very fast." },
                { word: "build", chinese: "å»ºé€ ", cantonese: "èµ·", emoji: "ðŸ—ï¸", example: "I build a tower." },
                { word: "sing", chinese: "å”±æ­Œ", cantonese: "å”±æ­Œ", emoji: "ðŸŽ¤", example: "I sing a song." },
                { word: "sit", chinese: "å", cantonese: "å", emoji: "ðŸª‘", example: "I sit on the chair." },
                { word: "sleep", chinese: "ç¡è¦º", cantonese: "çž“è¦º", emoji: "ðŸ˜´", example: "I sleep at night." },
                { word: "spell", chinese: "æ‹¼å¯«", cantonese: "ä¸²å­—", emoji: "ðŸ”¤", example: "I spell my name." },
                { word: "stand", chinese: "ç«™ç«‹", cantonese: "ä¼", emoji: "ðŸ§", example: "I stand up straight." },
                { word: "swim", chinese: "æ¸¸æ³³", cantonese: "æ¸¸æ°´", emoji: "ðŸŠ", example: "I swim in the pool." },
                { word: "tell", chinese: "å‘Šè¨´", cantonese: "è©±ä¿¾...è½", emoji: "ðŸ—£ï¸", example: "I tell a story." },
                { word: "throw", chinese: "æ‰”", cantonese: "æŽŸ", emoji: "ðŸ¤¾", example: "I throw the ball." },
                { word: "walk", chinese: "èµ°è·¯", cantonese: "è¡Œè·¯", emoji: "ðŸš¶", example: "I walk to school." }
            ],
            adjectives: [
                { word: "old", chinese: "è€çš„/èˆŠçš„", cantonese: "è€/èˆŠ", emoji: "ðŸ‘´", example: "My grandpa is old." },
                { word: "young", chinese: "å¹´è¼•çš„", cantonese: "å¾Œç”Ÿ", emoji: "ðŸ‘¶", example: "The baby is young." },
                { word: "open", chinese: "é–‹è‘—çš„", cantonese: "é–‹", emoji: "ðŸ“–", example: "The door is open." },
                { word: "closed", chinese: "é—œè‘—çš„", cantonese: "é–‚", emoji: "ðŸšª", example: "The window is closed." },
                { word: "happy", chinese: "å¿«æ¨‚çš„", cantonese: "é–‹å¿ƒ", emoji: "ðŸ˜Š", example: "I am very happy." },
                { word: "sad", chinese: "æ‚²å‚·çš„", cantonese: "å‚·å¿ƒ", emoji: "ðŸ˜¢", example: "The boy is sad." },
                { word: "clean", chinese: "ä¹¾æ·¨çš„", cantonese: "ä¹¾æ·¨", emoji: "âœ¨", example: "My room is clean." },
                { word: "dirty", chinese: "é«’çš„", cantonese: "æ±¡ç³Ÿ", emoji: "ðŸ·", example: "The pig is dirty." },
                { word: "long", chinese: "é•·çš„", cantonese: "é•·", emoji: "ðŸ“", example: "The snake is long." },
                { word: "short", chinese: "çŸ­çš„/çŸ®çš„", cantonese: "çŸ­/çŸ®", emoji: "ðŸ“", example: "My pencil is short." },
                { word: "correct", chinese: "æ­£ç¢ºçš„", cantonese: "å•±", emoji: "âœ…", example: "Your answer is correct." },
                { word: "right", chinese: "å°çš„/å³é‚Š", cantonese: "å•±/å³é‚Š", emoji: "ðŸ‘", example: "You are right!" },
                { word: "wrong", chinese: "éŒ¯èª¤çš„", cantonese: "éŒ¯", emoji: "âŒ", example: "This answer is wrong." },
                { word: "beautiful", chinese: "ç¾Žéº—çš„", cantonese: "éš", emoji: "ðŸŒ¸", example: "The flower is beautiful." },
                { word: "ugly", chinese: "é†œé™‹çš„", cantonese: "é†œ", emoji: "ðŸ‘¹", example: "The monster is ugly." },
                { word: "angry", chinese: "ç”Ÿæ°£çš„", cantonese: "å¬²", emoji: "ðŸ˜ ", example: "Dad is angry." },
                { word: "scary", chinese: "å¯æ€•çš„", cantonese: "å¾—äººé©š", emoji: "ðŸ˜±", example: "The ghost is scary." },
                { word: "strong", chinese: "å¼·å£¯çš„", cantonese: "å¼·å£¯", emoji: "ðŸ’ª", example: "The lion is strong." },
                { word: "weak", chinese: "è™›å¼±çš„", cantonese: "å¼±", emoji: "ðŸ˜“", example: "The sick boy is weak." },
                { word: "cold", chinese: "å†·çš„", cantonese: "å‡", emoji: "ðŸ¥¶", example: "The ice is cold." },
                { word: "hot", chinese: "ç†±çš„", cantonese: "ç†±", emoji: "ðŸ¥µ", example: "The soup is hot." },
                { word: "fat", chinese: "èƒ–çš„", cantonese: "è‚¥", emoji: "ðŸ·", example: "The pig is fat." },
                { word: "thin", chinese: "ç˜¦çš„", cantonese: "ç˜¦", emoji: "ðŸ¦´", example: "The dog is thin." },
                { word: "thirsty", chinese: "å£æ¸´çš„", cantonese: "å£æ¸´", emoji: "ðŸ¥¤", example: "I am thirsty." },
                { word: "hungry", chinese: "é£¢é¤“çš„", cantonese: "è‚šé¤“", emoji: "ðŸ½ï¸", example: "I am hungry." },
                { word: "sick", chinese: "ç”Ÿç—…çš„", cantonese: "ç—…", emoji: "ðŸ¤’", example: "I feel sick today." }
            ]
        };

        // Special word mappings for syllable splitting - ä½¿ç”¨ã€Œä¸€å…ƒä¸€è¼”å¾žå¾Œå¾€å‰åˆ‡ã€æ–¹æ³•
        const specialWords = {
            // Animals
            'bear': ['bear'], 'bee': ['bee'], 'bird': ['bird'], 'cat': ['cat'],
            'chicken': ['chi', 'cken'], 'cow': ['cow'], 'crocodile': ['cro', 'co', 'dile'],
            'dog': ['dog'], 'donkey': ['don', 'key'], 'duck': ['duck'],
            'elephant': ['e', 'le', 'phant'], 'fish': ['fish'], 'frog': ['frog'],
            'giraffe': ['gi', 'ra', 'ffe'], 'goat': ['goat'], 'hippo': ['hi', 'ppo'],
            'horse': ['horse'], 'jellyfish': ['je', 'lly', 'fish'], 'lizard': ['li', 'zard'],
            'monkey': ['mon', 'key'], 'mouse': ['mouse'], 'polar bear': ['po', 'lar', 'bear'],
            'sheep': ['sheep'], 'snake': ['snake'], 'spider': ['spi', 'der'],
            'tiger': ['ti', 'ger'], 'zebra': ['ze', 'bra'], 'bat': ['bat'],
            'dolphin': ['dol', 'phin'], 'kangaroo': ['kan', 'ga', 'roo'],
            
            // Body & Clothes
            'arm': ['arm'], 'hat': ['hat'], 'body': ['bo', 'dy'], 'jacket': ['ja', 'cket'],
            'ear': ['ear'], 'jeans': ['jeans'], 'eye': ['eye'], 'shirt': ['shirt'],
            'face': ['face'], 'shoe': ['shoe'], 'foot': ['foot'], 'shorts': ['shorts'],
            'feet': ['feet'], 'hair': ['hair'], 'sock': ['sock'], 'hand': ['hand'],
            'trousers': ['trou', 'sers'], 'head': ['head'], 'T-shirt': ['T', 'shirt'],
            'leg': ['leg'], 'watch': ['watch'], 'mouth': ['mouth'], 'coat': ['coat'],
            'nose': ['nose'], 'helmet': ['hel', 'met'], 'back': ['back'],
            'scarf': ['scarf'], 'beard': ['beard'], 'mustache': ['mus', 'ta', 'che'],
            'neck': ['neck'], 'shoulder': ['shoul', 'der'], 'tooth': ['tooth'],
            'teeth': ['teeth'], 'bag': ['bag'], 'baseball cap': ['base', 'ball', 'cap'],
            'boots': ['boots'], 'clothes': ['clothes'], 'dress': ['dress'],
            'glasses': ['gla', 'sses'], 'handbag': ['hand', 'bag'],
            
            // Food & Drink
            'apple': ['a', 'pple'], 'onion': ['o', 'nion'], 'banana': ['ba', 'na', 'na'],
            'pea': ['pea'], 'bean': ['bean'], 'pear': ['pear'], 'bread': ['bread'],
            'pie': ['pie'], 'burger': ['bur', 'ger'], 'package': ['pa', 'ckage'],
            'cake': ['cake'], 'candy': ['can', 'dy'], 'sweet': ['sweet'],
            'carrot': ['ca', 'rrot'], 'chips': ['chips'], 'fries': ['fries'],
            'chocolate': ['cho', 'co', 'late'], 'coconut': ['co', 'co', 'nut'],
            'egg': ['egg'], 'food': ['food'], 'fruit': ['fruit'], 'grape': ['grape'],
            'ice cream': ['ice', 'cream'], 'juice': ['juice'], 'kiwi': ['ki', 'wi'],
            'lemon': ['le', 'mon'], 'lemonade': ['le', 'mo', 'nade'], 'lime': ['lime'],
            'mango': ['man', 'go'], 'meat': ['meat'], 'meatballs': ['meat', 'balls'],
            'milk': ['milk'],
            
            // Home & School
            'armchair': ['arm', 'chair'], 'book': ['book'], 'bath': ['bath'],
            'bookcase': ['book', 'case'], 'bathroom': ['bath', 'room'],
            'classroom': ['class', 'room'], 'box': ['box'], 'colour': ['co', 'lour'],
            'chair': ['chair'], 'clock': ['clock'], 'desk': ['desk'],
            'computer': ['com', 'pu', 'ter'], 'cupboard': ['cup', 'board'],
            'floor': ['floor'], 'dining room': ['di', 'ning', 'room'],
            'keyboard': ['key', 'board'], 'door': ['door'], 'letter': ['le', 'tter'],
            'flower': ['flo', 'wer'], 'line': ['line'], 'garden': ['gar', 'den'],
            'house': ['house'], 'music': ['mu', 'sic'], 'kitchen': ['ki', 'tchen'],
            'number': ['num', 'ber'], 'lamp': ['lamp'], 'page': ['page'],
            'living room': ['li', 'ving', 'room'], 'painting': ['pain', 'ting'],
            'mat': ['mat'], 'mirror': ['mi', 'rror'], 'pen': ['pen'], 'phone': ['phone'],
            'pencil': ['pen', 'cil'], 'radio': ['ra', 'di', 'o'], 'poster': ['pos', 'ter'],
            'rug': ['rug'], 'rubber': ['ru', 'bber'], 'sofa': ['so', 'fa'],
            'table': ['ta', 'ble'], 'school': ['school'], 'television': ['te', 'le', 'vi', 'sion'],
            'tick': ['tick'], 'tree': ['tree'], 'wall': ['wall'], 'window': ['win', 'dow'],
            'word': ['word'], 'board': ['board'],
            
            // Sports & Toys
            'badminton': ['bad', 'min', 'ton'], 'baseball': ['base', 'ball'], 'ball': ['ball'],
            'board game': ['board', 'game'], 'basketball': ['bas', 'ket', 'ball'],
            'doll': ['doll'], 'monster': ['mons', 'ter'], 'bike': ['bike'],
            'robot': ['ro', 'bot'], 'camera': ['ca', 'me', 'ra'],
            'teddy bear': ['te', 'ddy', 'bear'], 'drawing': ['dra', 'wing'],
            'fishing': ['fi', 'shing'], 'football': ['foot', 'ball'], 'guitar': ['gui', 'tar'],
            'hockey': ['ho', 'ckey'], 'kite': ['kite'], 'photo': ['pho', 'to'],
            'piano': ['pi', 'a', 'no'], 'picture': ['pic', 'ture'],
            'skateboard': ['skate', 'board'], 'soccer': ['so', 'ccer'],
            'table tennis': ['ta', 'ble', 'te', 'nnis'], 'tennis': ['te', 'nnis'],
            'racket': ['ra', 'cket'], 'toy': ['toy'], 'comic book': ['co', 'mic', 'book'],
            'film': ['film'], 'ice skating': ['ice', 'ska', 'ting'], 'movie': ['mo', 'vie'],
            'net': ['net'], 'present': ['pre', 'sent'],
            'roller skating': ['ro', 'ller', 'ska', 'ting'], 'sail': ['sail'],
            'towel': ['to', 'wel'], 'alien': ['a', 'li', 'en'], 'balloon': ['ba', 'lloon'],
            
            // Time & Transport
            'boat': ['boat'], 'Sunday': ['Sun', 'day'], 'bus': ['bus'],
            'cloudy': ['clou', 'dy'], 'car': ['car'], 'ice': ['ice'],
            'helicopter': ['he', 'li', 'cop', 'ter'], 'rain': ['rain'],
            'lorry': ['lo', 'rry'], 'rainbow': ['rain', 'bow'],
            'motorbike': ['mo', 'tor', 'bike'], 'snow': ['snow'], 'plane': ['plane'],
            'sunny': ['su', 'nny'], 'ship': ['ship'], 'windy': ['win', 'dy'],
            'train': ['train'], 'truck': ['truck'], 'bus station': ['bus', 'sta', 'tion'],
            'ticket': ['ti', 'cket'], 'tractor': ['trac', 'tor'],
            'afternoon': ['af', 'ter', 'noon'], 'birthday': ['birth', 'day'],
            'evening': ['eve', 'ning'], 'morning': ['mor', 'ning'], 'night': ['night'],
            'today': ['to', 'day'], 'year': ['year'], 'month': ['month'], 'week': ['week'],
            'weekend': ['week', 'end'], 'yesterday': ['yes', 'ter', 'day'],
            'Monday': ['Mon', 'day'], 'Tuesday': ['Tues', 'day'],
            'Wednesday': ['Wed', 'nes', 'day'], 'Thursday': ['Thurs', 'day'],
            'Friday': ['Fri', 'day'], 'Saturday': ['Sa', 'tur', 'day'],
            
            // Family & Work
            'teacher': ['tea', 'cher'], 'driver': ['dri', 'ver'], 'clown': ['clown'],
            'farmer': ['far', 'mer'], 'cook': ['cook'], 'film star': ['film', 'star'],
            'dentist': ['den', 'tist'], 'nurse': ['nurse'], 'doctor': ['doc', 'tor'],
            'pirate': ['pi', 'rate'], 'baby': ['ba', 'by'], 'man': ['man'],
            'mother': ['mo', 'ther'], 'sister': ['sis', 'ter'], 'cousin': ['cou', 'sin'],
            'woman': ['wo', 'man'], 'aunt': ['aunt'], 'daughter': ['daugh', 'ter'],
            'father': ['fa', 'ther'], 'friend': ['friend'], 'son': ['son'], 'girl': ['girl'],
            'uncle': ['un', 'cle'], 'grandfather': ['grand', 'fa', 'ther'],
            'grandmother': ['grand', 'mo', 'ther'],
            
            // Places
            'beach': ['beach'], 'sea': ['sea'], 'street': ['street'],
            'building': ['buil', 'ding'], 'forest': ['fo', 'rest'], 'island': ['is', 'land'],
            'jungle': ['jun', 'gle'], 'lake': ['lake'], 'mountain': ['moun', 'tain'],
            'river': ['ri', 'ver'], 'sky': ['sky'], 'town': ['town'],
            'village': ['vi', 'llage'], 'waterfall': ['wa', 'ter', 'fall'],
            'bookshop': ['book', 'shop'], 'cinema': ['ci', 'ne', 'ma'], 'park': ['park'],
            'playground': ['play', 'ground'], 'store': ['store'], 'zoo': ['zoo'],
            'cafÃ©': ['ca', 'fÃ©'], 'car park': ['car', 'park'], 'circus': ['cir', 'cus'],
            'farm': ['farm'], 'funfair': ['fun', 'fair'], 'hospital': ['hos', 'pi', 'tal'],
            'library': ['li', 'bra', 'ry'], 'map': ['map'], 'market': ['mar', 'ket'],
            'road': ['road'], 'shopping centre': ['sho', 'pping', 'cen', 'tre'],
            'sports centre': ['sports', 'cen', 'tre'], 'square': ['square'],
            'supermarket': ['su', 'per', 'mar', 'ket'], 'swimming pool': ['swi', 'mming', 'pool'],
            
            // Colours & Numbers
            'black': ['black'], 'four': ['four'], 'blue': ['blue'], 'five': ['five'],
            'brown': ['brown'], 'six': ['six'], 'grey': ['grey'], 'seven': ['se', 'ven'],
            'green': ['green'], 'eight': ['eight'], 'orange': ['o', 'range'], 'nine': ['nine'],
            'pink': ['pink'], 'ten': ['ten'], 'purple': ['pur', 'ple'],
            'eleven': ['e', 'le', 'ven'], 'red': ['red'], 'twelve': ['twelve'],
            'white': ['white'], 'thirteen': ['thir', 'teen'], 'yellow': ['ye', 'llow'],
            'fourteen': ['four', 'teen'], 'fifteen': ['fif', 'teen'],
            'sixteen': ['six', 'teen'], 'seventeen': ['se', 'ven', 'teen'],
            'twenty': ['twen', 'ty'], 'three': ['three'], 'eighteen': ['eigh', 'teen'],
            'nineteen': ['nine', 'teen'], 'seventy': ['se', 'ven', 'ty'],
            'thirty': ['thir', 'ty'], 'ninety': ['nine', 'ty'], 'forty': ['for', 'ty'],
            'fifty': ['fif', 'ty'], 'sixty': ['six', 'ty'],
            
            // Verbs
            'ask': ['ask'], 'know': ['know'], 'bounce': ['bounce'], 'learn': ['learn'],
            'catch': ['catch'], 'wear': ['wear'], 'draw': ['draw'], 'call': ['call'],
            'drive': ['drive'], 'carry': ['ca', 'rry'], 'drink': ['drink'],
            'climb': ['climb'], 'eat': ['eat'], 'drop': ['drop'], 'find': ['find'],
            'fix': ['fix'], 'fly': ['fly'], 'help': ['help'], 'go': ['go'],
            'invite': ['in', 'vite'], 'light': ['light'], 'jump': ['jump'],
            'move': ['move'], 'kick': ['kick'], 'practice': ['prac', 'tice'],
            'look': ['look'], 'shop': ['shop'], 'paint': ['paint'], 'shout': ['shout'],
            'play': ['play'], 'travel': ['tra', 'vel'], 'read': ['read'],
            'write': ['write'], 'run': ['run'], 'build': ['build'], 'sing': ['sing'],
            'sit': ['sit'], 'sleep': ['sleep'], 'spell': ['spell'], 'stand': ['stand'],
            'swim': ['swim'], 'tell': ['tell'], 'throw': ['throw'], 'walk': ['walk'],
            
            // Adjectives
            'old': ['old'], 'young': ['young'], 'open': ['o', 'pen'], 'closed': ['closed'],
            'happy': ['ha', 'ppy'], 'sad': ['sad'], 'clean': ['clean'],
            'dirty': ['dir', 'ty'], 'long': ['long'], 'short': ['short'],
            'correct': ['co', 'rrect'], 'right': ['right'], 'wrong': ['wrong'],
            'beautiful': ['beau', 'ti', 'ful'], 'ugly': ['ug', 'ly'],
            'angry': ['ang', 'ry'], 'scary': ['sca', 'ry'], 'strong': ['strong'],
            'weak': ['weak'], 'cold': ['cold'], 'hot': ['hot'], 'fat': ['fat'],
            'thin': ['thin'], 'thirsty': ['thirs', 'ty'], 'hungry': ['hun', 'gry'],
            'sick': ['sick']
        };

        // Consonant digraphs and blends for phonics identification
        const digraphs = ['ch', 'tch', 'sh', 'th', 'wh', 'ph', 'gh', 'ng', 'ck'];
        const blends = ['bl', 'cl', 'fl', 'gl', 'pl', 'sl', 'br', 'cr', 'dr', 'fr', 'gr', 'pr', 'tr', 'sc', 'sk', 'sm', 'sn', 'sp', 'st', 'sw'];

        // Function to split word into syllables
        function splitSyllables(word) {
            const lowerWord = word.toLowerCase();
            if (specialWords[lowerWord]) {
                return specialWords[lowerWord];
            }
            // Fallback: return the word as single syllable
            return [word];
        }

        // Function to identify phonics patterns
        function identifyPhonics(word) {
            const lowerWord = word.toLowerCase();
            let patterns = [];
            
            for (let digraph of digraphs) {
                if (lowerWord.includes(digraph)) {
                    patterns.push(digraph.toUpperCase());
                }
            }
            
            for (let blend of blends) {
                if (lowerWord.startsWith(blend)) {
                    patterns.push(blend.toUpperCase());
                }
            }
            
            return patterns.length > 0 ? patterns.join(', ') : 'Basic';
        }

        // Speech rate
        let speechRate = 0.8;

        // Update speed display
        document.getElementById('speedControl').addEventListener('input', function() {
            speechRate = parseFloat(this.value);
            document.getElementById('speedDisplay').textContent = speechRate.toFixed(1) + 'x';
        });

        // Text-to-speech function for English
        function speakEnglish(text, isExample = false) {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'en-US';
                utterance.rate = speechRate;
                utterance.pitch = isExample ? 1.1 : 1.2;
                utterance.volume = 1;
                
                const voices = window.speechSynthesis.getVoices();
                const femaleVoices = voices.filter(voice => 
                    voice.lang.includes('en-US') && 
                    (voice.name.includes('Female') || voice.name.includes('Samantha') || 
                     voice.name.includes('Victoria') || voice.name.includes('Karen') ||
                     voice.name.includes('Zira'))
                );
                
                if (femaleVoices.length > 0) {
                    utterance.voice = femaleVoices[0];
                } else {
                    const usVoices = voices.filter(voice => voice.lang.includes('en-US'));
                    if (usVoices.length > 0) {
                        utterance.voice = usVoices[0];
                    }
                }
                
                window.speechSynthesis.speak(utterance);
            }
        }

        // Text-to-speech function for Cantonese
        function speakCantonese(text) {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.rate = speechRate;
                utterance.pitch = 1.0;
                utterance.volume = 1;
                
                const voices = window.speechSynthesis.getVoices();
                
                let selectedVoice = voices.find(voice => 
                    voice.lang.includes('zh-HK') || voice.lang.includes('yue') || 
                    voice.name.includes('Cantonese')
                );
                
                if (!selectedVoice) {
                    selectedVoice = voices.find(voice => 
                        voice.lang.includes('zh-TW') || voice.lang.includes('zh-Hant')
                    );
                }
                
                if (!selectedVoice) {
                    selectedVoice = voices.find(voice => voice.lang.includes('zh'));
                }
                
                if (selectedVoice) {
                    utterance.voice = selectedVoice;
                    utterance.lang = selectedVoice.lang;
                } else {
                    utterance.lang = 'zh-HK';
                }
                
                window.speechSynthesis.speak(utterance);
            }
        }

        // Load voices
        if ('speechSynthesis' in window) {
            window.speechSynthesis.onvoiceschanged = function() {
                window.speechSynthesis.getVoices();
            };
            window.speechSynthesis.getVoices();
        }

        // Current category
        let currentCategory = 'animals';

        // Generate cards for a category
        function generateCards(category) {
            const container = document.getElementById('cardsContainer');
            container.innerHTML = '';
            
            const words = vocabularyData[category];
            if (!words) return;
            
            words.forEach((item, index) => {
                const syllables = splitSyllables(item.word);
                const phonicsPattern = identifyPhonics(item.word);
                
                const cardWrapper = document.createElement('div');
                cardWrapper.className = 'card-wrapper';
                cardWrapper.innerHTML = `
                    <div class="card" id="card-${category}-${index}">
                        <div class="card-front">
                            <div class="card-emoji">${item.emoji}</div>
                            <div class="word">${item.word}</div>
                            <div class="phonics">ðŸ”¤ ${phonicsPattern}</div>
                            <div class="syllables">
                                ðŸ“ éŸ³ç¯€: <span>${syllables.join(' - ')}</span>
                            </div>
                            <div class="example">"${item.example}"</div>
                            <div class="btn-group">
                                <button class="speak-btn" onclick="event.stopPropagation(); speakEnglish('${item.word}')">
                                    ðŸ”Š è®€å–®è©ž
                                </button>
                                <button class="speak-btn" onclick="event.stopPropagation(); speakEnglish('${item.example.replace(/'/g, "\\'")}', true)">
                                    ðŸ“– è®€ä¾‹å¥
                                </button>
                            </div>
                            <div class="flip-hint">ðŸ‘† é»žæ“Šå­—å¡ç¿»è½‰çœ‹ä¸­æ–‡</div>
                        </div>
                        <div class="card-back">
                            <div class="card-emoji">${item.emoji}</div>
                            <div class="chinese-word">${item.chinese}</div>
                            <div class="chinese-meaning">
                                <strong>è‹±æ–‡:</strong> ${item.word}<br>
                                <strong>å»£æ±è©±:</strong> ${item.cantonese}
                            </div>
                            <button class="speak-chinese-btn" onclick="event.stopPropagation(); speakCantonese('${item.cantonese}')">
                                ðŸ”Š å»£æ±è©±ç™¼éŸ³
                            </button>
                            <div class="flip-hint">ðŸ‘† é»žæ“Šç¿»å›žè‹±æ–‡</div>
                        </div>
                    </div>
                `;
                
                cardWrapper.querySelector('.card').addEventListener('click', function(e) {
                    if (!e.target.classList.contains('speak-btn') && 
                        !e.target.classList.contains('speak-chinese-btn')) {
                        this.classList.toggle('flipped');
                    }
                });
                
                container.appendChild(cardWrapper);
            });
        }

        // Category button click handlers
        document.querySelectorAll('.category-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                currentCategory = this.dataset.category;
                generateCards(currentCategory);
            });
        });

        // Search functionality
        document.getElementById('searchInput').addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase().trim();
            
            if (searchTerm === '') {
                generateCards(currentCategory);
                return;
            }
            
            const container = document.getElementById('cardsContainer');
            container.innerHTML = '';
            
            let results = [];
            for (let category in vocabularyData) {
                vocabularyData[category].forEach((item, index) => {
                    if (item.word.toLowerCase().includes(searchTerm) ||
                        item.chinese.includes(searchTerm) ||
                        item.cantonese.includes(searchTerm)) {
                        results.push({ ...item, category, index });
                    }
                });
            }
            
            results.forEach(item => {
                const syllables = splitSyllables(item.word);
                const phonicsPattern = identifyPhonics(item.word);
                
                const cardWrapper = document.createElement('div');
                cardWrapper.className = 'card-wrapper';
                cardWrapper.innerHTML = `
                    <div class="card" id="card-search-${item.category}-${item.index}">
                        <div class="card-front">
                            <div class="card-emoji">${item.emoji}</div>
                            <div class="word">${item.word}</div>
                          
                            <div class="syllables">
                                ðŸ“ éŸ³ç¯€: <span>${syllables.join(' - ')}</span>
                            </div>
                            <div class="example">"${item.example}"</div>
                            <div class="btn-group">
                                <button class="speak-btn" onclick="event.stopPropagation(); speakEnglish('${item.word}')">
                                    ðŸ”Š è®€å–®è©ž
                                </button>
                                <button class="speak-btn" onclick="event.stopPropagation(); speakEnglish('${item.example.replace(/'/g, "\\'")}', true)">
                                    ðŸ“– è®€ä¾‹å¥
                                </button>
                            </div>
                            <div class="flip-hint">ðŸ‘† é»žæ“Šå­—å¡ç¿»è½‰çœ‹ä¸­æ–‡</div>
                        </div>
                        <div class="card-back">
                            <div class="card-emoji">${item.emoji}</div>
                            <div class="chinese-word">${item.chinese}</div>
                            <div class="chinese-meaning">
                                <strong>è‹±æ–‡:</strong> ${item.word}<br>
                                <strong>å»£æ±è©±:</strong> ${item.cantonese}
                            </div>
                            <button class="speak-chinese-btn" onclick="event.stopPropagation(); speakCantonese('${item.cantonese}')">
                                ðŸ”Š å»£æ±è©±ç™¼éŸ³
                            </button>
                            <div class="flip-hint">ðŸ‘† é»žæ“Šç¿»å›žè‹±æ–‡</div>
                        </div>
                    </div>
                `;
                
                cardWrapper.querySelector('.card').addEventListener('click', function(e) {
                    if (!e.target.classList.contains('speak-btn') && 
                        !e.target.classList.contains('speak-chinese-btn')) {
                        this.classList.toggle('flipped');
                    }
                });
                
                container.appendChild(cardWrapper);
            });
            
            if (results.length === 0) {
                container.innerHTML = `
                    <div style="grid-column: 1/-1; text-align: center; padding: 50px; color: white;">
                        <h2>ðŸ˜¢ æ‰¾ä¸åˆ°ç›¸é—œçš„å–®è©ž</h2>
                        <p>è«‹è©¦è©¦å…¶ä»–æœå°‹è©ž</p>
                    </div>
                `;
            }
        });

        // ==================== Spelling Practice ====================
        
        let spellingWords = [];
        let currentSpellingIndex = 0;
        let correctCount = 0;
        let wrongCount = 0;
        let currentWord = null;
        let hasAnswered = false;

        // Switch between modes
        function switchMode(mode) {
            const flashcardMode = document.getElementById('flashcardMode');
            const spellingMode = document.getElementById('spellingMode');
            const cardsContainer = document.getElementById('cardsContainer');
            const spellingContainer = document.getElementById('spellingContainer');
            const categoryButtons = document.getElementById('categoryButtons');
            const phonicsInfo = document.getElementById('phonicsInfo');

            if (mode === 'flashcard') {
                flashcardMode.classList.add('active');
                spellingMode.classList.remove('active');
                cardsContainer.style.display = 'grid';
                spellingContainer.style.display = 'none';
                categoryButtons.style.display = 'flex';
                phonicsInfo.style.display = 'block';
            } else {
                flashcardMode.classList.remove('active');
                spellingMode.classList.add('active');
                cardsContainer.style.display = 'none';
                spellingContainer.style.display = 'block';
                categoryButtons.style.display = 'none';
                phonicsInfo.style.display = 'none';
                startSpellingPractice();
            }
        }

        // Shuffle array
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        // Start spelling practice
        function startSpellingPractice() {
            const category = document.getElementById('spellingCategory').value;
            
            if (category === 'all') {
                spellingWords = [];
                for (let cat in vocabularyData) {
                    spellingWords = spellingWords.concat(vocabularyData[cat]);
                }
            } else {
                spellingWords = [...vocabularyData[category]];
            }
            
            spellingWords = shuffleArray(spellingWords);
            currentSpellingIndex = 0;
            correctCount = 0;
            wrongCount = 0;
            updateScore();
            showSpellingWord();
        }

        // Show current spelling word
        function showSpellingWord() {
            if (currentSpellingIndex >= spellingWords.length) {
                showFinalResult();
                return;
            }

            currentWord = spellingWords[currentSpellingIndex];
            hasAnswered = false;

            document.getElementById('spellingEmoji').textContent = currentWord.emoji;
            document.getElementById('spellingChinese').textContent = currentWord.chinese;
            document.getElementById('spellingCantonese').textContent = 'å»£æ±è©±ï¼š' + currentWord.cantonese;
            
            const input = document.getElementById('spellingInput');
            input.value = '';
            input.className = 'spelling-input';
            input.disabled = false;
            input.focus();
            
            document.getElementById('spellingResult').textContent = '';
            document.getElementById('spellingResult').className = 'spelling-result';
            document.getElementById('spellingAnswer').style.display = 'none';
            document.getElementById('hintDisplay').textContent = '';
            
            document.getElementById('wordProgress').textContent = 
                `${currentSpellingIndex + 1} / ${spellingWords.length}`;
        }

        // Play spelling audio
        function playSpellingAudio() {
            if (currentWord) {
                speakEnglish(currentWord.word);
            }
        }

        // Show syllable hint
        function showSyllableHint() {
            if (currentWord) {
                const syllables = splitSyllables(currentWord.word);
                const hint = syllables.map((s, i) => {
                    if (i === 0) return s;
                    return '_'.repeat(s.length);
                }).join(' - ');
                document.getElementById('hintDisplay').innerHTML = 
                    `ðŸ“ éŸ³ç¯€æç¤ºï¼š<span style="letter-spacing: 3px;">${syllables.length} å€‹éŸ³ç¯€</span><br>` +
                    `<span style="font-size: 1.2em; letter-spacing: 5px;">${hint}</span>`;
            }
        }

        // Show first letter hint
        function showFirstLetterHint() {
            if (currentWord) {
                const word = currentWord.word;
                const hint = word[0].toUpperCase() + ' ' + '_'.repeat(word.length - 1).split('').join(' ');
                document.getElementById('hintDisplay').innerHTML = 
                    `ðŸ”¤ é¦–å­—æ¯æç¤ºï¼š<br><span style="font-size: 1.5em; letter-spacing: 8px;">${hint}</span>`;
            }
        }

        // Show letter count
        function showLetterCount() {
            if (currentWord) {
                const word = currentWord.word.replace(/\s/g, '');
                const boxes = word.split('').map(() => 'â¬œ').join(' ');
                document.getElementById('hintDisplay').innerHTML = 
                    `ðŸ”¢ å­—æ¯æ•¸é‡ï¼š<strong>${word.length}</strong> å€‹å­—æ¯<br>` +
                    `<span style="font-size: 1.3em;">${boxes}</span>`;
            }
        }

        // Handle Enter key
        function handleSpellingKeyPress(event) {
            if (event.key === 'Enter') {
                if (hasAnswered) {
                    nextSpellingWord();
                } else {
                    checkSpelling();
                }
            }
        }

        // Check spelling answer
        function checkSpelling() {
            if (!currentWord || hasAnswered) return;

            const input = document.getElementById('spellingInput');
            const userAnswer = input.value.trim().toLowerCase();
            const correctAnswer = currentWord.word.toLowerCase();

            hasAnswered = true;
            input.disabled = true;

            const resultDiv = document.getElementById('spellingResult');
            const answerDiv = document.getElementById('spellingAnswer');

            if (userAnswer === correctAnswer) {
                correctCount++;
                input.className = 'spelling-input correct';
                resultDiv.textContent = 'ðŸŽ‰ æ­£ç¢ºï¼å¤ªæ£’äº†ï¼';
                resultDiv.className = 'spelling-result correct';
                speakEnglish('Great job!');
            } else {
                wrongCount++;
                input.className = 'spelling-input wrong';
                resultDiv.textContent = 'ðŸ˜¢ å†è©¦è©¦å§ï¼';
                resultDiv.className = 'spelling-result wrong';
                
                answerDiv.style.display = 'block';
                document.getElementById('correctAnswerText').textContent = currentWord.word;
                
                const syllables = splitSyllables(currentWord.word);
                document.getElementById('answerSyllables').innerHTML = 
                    'éŸ³ç¯€ï¼š' + syllables.map(s => `<span>${s}</span>`).join('');
                document.getElementById('answerExample').textContent = 
                    'ä¾‹å¥ï¼š' + currentWord.example;
            }

            updateScore();
        }

        // Speak correct answer
        function speakCorrectAnswer() {
            if (currentWord) {
                speakEnglish(currentWord.word);
            }
        }

        // Update score display
        function updateScore() {
            document.getElementById('correctCount').textContent = correctCount;
            document.getElementById('wrongCount').textContent = wrongCount;
            
            const total = correctCount + wrongCount;
            const accuracy = total > 0 ? Math.round((correctCount / total) * 100) : 0;
            document.getElementById('accuracyRate').textContent = accuracy + '%';
        }

        // Previous word
        function previousSpellingWord() {
            if (currentSpellingIndex > 0) {
                currentSpellingIndex--;
                showSpellingWord();
            }
        }

        // Next word
        function nextSpellingWord() {
            currentSpellingIndex++;
            if (currentSpellingIndex >= spellingWords.length) {
                showFinalResult();
            } else {
                showSpellingWord();
            }
        }

        // Restart spelling practice
        function restartSpelling() {
            startSpellingPractice();
        }

        // Show final result
        function showFinalResult() {
            const total = correctCount + wrongCount;
            const accuracy = total > 0 ? Math.round((correctCount / total) * 100) : 0;
            
            let message = '';
            let emoji = '';
            
            if (accuracy >= 90) {
                emoji = 'ðŸ†ðŸŒŸðŸŽ‰';
                message = 'å¤ªåŽ²å®³äº†ï¼ä½ æ˜¯æ‹¼å­—é«˜æ‰‹ï¼';
            } else if (accuracy >= 70) {
                emoji = 'ðŸ‘ðŸ˜Šâœ¨';
                message = 'åšå¾—å¾ˆå¥½ï¼ç¹¼çºŒåŠªåŠ›ï¼';
            } else if (accuracy >= 50) {
                emoji = 'ðŸ’ªðŸ“š';
                message = 'ä¸éŒ¯çš„è¡¨ç¾ï¼å¤šç·´ç¿’æœƒæ›´å¥½ï¼';
            } else {
                emoji = 'ðŸ¤—ðŸ’•';
                message = 'æ²’é—œä¿‚ï¼å†è©¦ä¸€æ¬¡å§ï¼';
            }

            const spellingCard = document.getElementById('spellingCard');
            spellingCard.innerHTML = `
                <div class="final-result">
                    <div style="font-size: 4em; margin-bottom: 20px;">${emoji}</div>
                    <h2 style="color: #764ba2; margin-bottom: 20px;">ç·´ç¿’å®Œæˆï¼</h2>
                    <div class="result-stats">
                        <div class="stat-item">
                            <span class="stat-label">ç¸½é¡Œæ•¸</span>
                            <span class="stat-value">${total}</span>
                        </div>
                        <div class="stat-item correct">
                            <span class="stat-label">æ­£ç¢º</span>
                            <span class="stat-value">${correctCount}</span>
                        </div>
                        <div class="stat-item wrong">
                            <span class="stat-label">éŒ¯èª¤</span>
                            <span class="stat-value">${wrongCount}</span>
                        </div>
                        <div class="stat-item accuracy">
                            <span class="stat-label">æ­£ç¢ºçŽ‡</span>
                            <span class="stat-value">${accuracy}%</span>
                        </div>
                    </div>
                    <p style="font-size: 1.5em; margin: 25px 0; color: #333;">${message}</p>
                    <button class="restart-btn" onclick="restartSpellingFull()" style="font-size: 1.3em; padding: 15px 40px;">
                        ðŸ”„ å†çŽ©ä¸€æ¬¡
                    </button>
                </div>
            `;
        }

        // Full restart
        function restartSpellingFull() {
            const spellingCard = document.getElementById('spellingCard');
            spellingCard.innerHTML = `
                <div class="spelling-emoji" id="spellingEmoji">ðŸ±</div>
                <div class="spelling-chinese" id="spellingChinese">è²“</div>
                <div class="spelling-cantonese" id="spellingCantonese">å»£æ±è©±ï¼šè²“</div>
                
                <div class="spelling-hints">
                    <button class="hint-btn" onclick="playSpellingAudio()">ðŸ”Š è½ç™¼éŸ³</button>
                    <button class="hint-btn" onclick="showSyllableHint()">ðŸ“ éŸ³ç¯€æç¤º</button>
                    <button class="hint-btn" onclick="showFirstLetterHint()">ðŸ”¤ é¦–å­—æ¯æç¤º</button>
                    <button class="hint-btn" onclick="showLetterCount()">ðŸ”¢ å­—æ¯æ•¸é‡</button>
                </div>
                
                <div class="hint-display" id="hintDisplay"></div>
                
                <div class="spelling-input-area">
                    <input type="text" id="spellingInput" class="spelling-input" 
                           placeholder="è¼¸å…¥è‹±æ–‡ç”Ÿå­—..." 
                           autocomplete="off" 
                           autocapitalize="off"
                           onkeypress="handleSpellingKeyPress(event)">
                    <button class="check-btn" onclick="checkSpelling()">âœ“ æª¢æŸ¥ç­”æ¡ˆ</button>
                </div>
                
                <div class="spelling-result" id="spellingResult"></div>
                
                <div class="spelling-answer" id="spellingAnswer" style="display: none;">
                    <div class="correct-answer">
                        <span>æ­£ç¢ºç­”æ¡ˆï¼š</span>
                        <strong id="correctAnswerText"></strong>
                        <button class="speak-btn small" onclick="speakCorrectAnswer()">ðŸ”Š</button>
                    </div>
                    <div class="answer-syllables" id="answerSyllables"></div>
                    <div class="answer-example" id="answerExample"></div>
                </div>
                
                <div class="spelling-navigation">
                    <button class="nav-btn" onclick="previousSpellingWord()">â¬…ï¸ ä¸Šä¸€é¡Œ</button>
                    <span class="word-progress" id="wordProgress">1 / 30</span>
                    <button class="nav-btn" onclick="nextSpellingWord()">ä¸‹ä¸€é¡Œ âž¡ï¸</button>
                </div>
                
                <button class="restart-btn" onclick="restartSpelling()">ðŸ”„ é‡æ–°é–‹å§‹</button>
            `;
            
            startSpellingPractice();
        }

        // Initialize
        window.onload = function() {
            setTimeout(() => {
                generateCards('animals');
            }, 100);
        };

        // Make functions globally available
        window.speakEnglish = speakEnglish;
        window.speakCantonese = speakCantonese;
        window.switchMode = switchMode;
        window.startSpellingPractice = startSpellingPractice;
        window.playSpellingAudio = playSpellingAudio;
        window.showSyllableHint = showSyllableHint;
        window.showFirstLetterHint = showFirstLetterHint;
        window.showLetterCount = showLetterCount;
        window.handleSpellingKeyPress = handleSpellingKeyPress;
        window.checkSpelling = checkSpelling;
        window.speakCorrectAnswer = speakCorrectAnswer;
        window.previousSpellingWord = previousSpellingWord;
        window.nextSpellingWord = nextSpellingWord;
        window.restartSpelling = restartSpelling;
        window.restartSpellingFull = restartSpellingFull;

        // ==================== Quiz Mode ====================
        
        let quizWords = [];
        let currentQuizIndex = 0;
        let quizCorrectCount = 0;
        let quizWrongCount = 0;
        let currentQuizWord = null;
        let quizHasAnswered = false;
        let quizType = 'image';
        let quizStartTime = null;
        let wrongAnswersList = [];

        // Update switchMode function to include quiz
        function switchMode(mode) {
            const flashcardMode = document.getElementById('flashcardMode');
            const spellingMode = document.getElementById('spellingMode');
            const quizMode = document.getElementById('quizMode');
            const cardsContainer = document.getElementById('cardsContainer');
            const spellingContainer = document.getElementById('spellingContainer');
            const quizContainer = document.getElementById('quizContainer');
            const categoryButtons = document.getElementById('categoryButtons');
            const phonicsInfo = document.getElementById('phonicsInfo');

            // Remove active from all
            flashcardMode.classList.remove('active');
            spellingMode.classList.remove('active');
            quizMode.classList.remove('active');

            // Hide all containers
            cardsContainer.style.display = 'none';
            spellingContainer.style.display = 'none';
            quizContainer.style.display = 'none';
            categoryButtons.style.display = 'none';
            phonicsInfo.style.display = 'none';

            if (mode === 'flashcard') {
                flashcardMode.classList.add('active');
                cardsContainer.style.display = 'grid';
                categoryButtons.style.display = 'flex';
                phonicsInfo.style.display = 'block';
            } else if (mode === 'spelling') {
                spellingMode.classList.add('active');
                spellingContainer.style.display = 'block';
                startSpellingPractice();
            } else if (mode === 'quiz') {
                quizMode.classList.add('active');
                quizContainer.style.display = 'block';
                resetQuizSettings();
            }
        }

        // Reset quiz to settings view
        function resetQuizSettings() {
            document.querySelector('.quiz-settings').style.display = 'flex';
            document.getElementById('quizCard').style.display = 'none';
            document.getElementById('quizResult').style.display = 'none';
            
            // Reset scores display
            document.getElementById('quizCorrectCount').textContent = '0';
            document.getElementById('quizWrongCount').textContent = '0';
            document.getElementById('quizAccuracyRate').textContent = '0%';
        }

        // Start quiz
        function startQuiz() {
            const category = document.getElementById('quizCategory').value;
            const countSelect = document.getElementById('quizCount').value;
            quizType = document.getElementById('quizType').value;
            
            // Get words based on category
            if (category === 'all') {
                quizWords = [];
                for (let cat in vocabularyData) {
                    quizWords = quizWords.concat(vocabularyData[cat]);
                }
            } else {
                quizWords = [...vocabularyData[category]];
            }
            
            // Shuffle words
            quizWords = shuffleArray(quizWords);
            
            // Limit number of questions
            if (countSelect !== 'all') {
                const count = parseInt(countSelect);
                quizWords = quizWords.slice(0, Math.min(count, quizWords.length));
            }
            
            // Reset counters
            currentQuizIndex = 0;
            quizCorrectCount = 0;
            quizWrongCount = 0;
            wrongAnswersList = [];
            quizStartTime = Date.now();
            
            // Update UI
            document.querySelector('.quiz-settings').style.display = 'none';
            document.getElementById('quizCard').style.display = 'block';
            document.getElementById('quizResult').style.display = 'none';
            
            updateQuizScore();
            showQuizQuestion();
        }

        // Show current quiz question
        function showQuizQuestion() {
            if (currentQuizIndex >= quizWords.length) {
                showQuizResult();
                return;
            }

            currentQuizWord = quizWords[currentQuizIndex];
            quizHasAnswered = false;

            // Update progress
            const progress = ((currentQuizIndex) / quizWords.length) * 100;
            document.getElementById('quizProgressFill').style.width = progress + '%';
            document.getElementById('quizProgressText').textContent = 
                `é¡Œç›® ${currentQuizIndex + 1} / ${quizWords.length}`;

            // Determine question type for this question
            let currentQuestionType = quizType;
            if (quizType === 'mixed') {
                currentQuestionType = Math.random() > 0.5 ? 'image' : 'audio';
            }

            // Set question content
            const emojiEl = document.getElementById('quizEmoji');
            const audioBtn = document.getElementById('quizAudioBtn');
            
            if (currentQuestionType === 'image') {
                emojiEl.textContent = currentQuizWord.emoji;
                emojiEl.style.display = 'block';
                audioBtn.classList.remove('hidden');
            } else {
                // Audio mode - hide emoji initially, show after answer or on click
                emojiEl.textContent = 'ðŸ”Š';
                emojiEl.style.display = 'block';
                audioBtn.classList.remove('hidden');
                // Auto play audio
                setTimeout(() => playQuizAudio(), 500);
            }

            document.getElementById('quizChinese').textContent = currentQuizWord.chinese;
            document.getElementById('quizCantonese').textContent = 'å»£æ±è©±ï¼š' + currentQuizWord.cantonese;

            // Generate options
            generateQuizOptions();

            // Reset feedback and answer info
            document.getElementById('quizFeedback').textContent = '';
            document.getElementById('quizFeedback').className = 'quiz-feedback';
            document.getElementById('quizAnswerInfo').style.display = 'none';
            document.getElementById('nextQuestionBtn').style.display = 'none';
        }

        // Generate quiz options
        function generateQuizOptions() {
            const optionsContainer = document.getElementById('quizOptions');
            optionsContainer.innerHTML = '';

            // Get 3 wrong options from the same category or all words
            let allWords = [];
            for (let cat in vocabularyData) {
                allWords = allWords.concat(vocabularyData[cat]);
            }
            
            // Filter out the correct answer
            let wrongOptions = allWords.filter(w => w.word !== currentQuizWord.word);
            wrongOptions = shuffleArray(wrongOptions).slice(0, 3);

            // Combine correct answer with wrong options
            let options = [currentQuizWord, ...wrongOptions];
            options = shuffleArray(options);

            // Create option buttons
            options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'quiz-option';
                button.textContent = option.word;
                button.onclick = () => selectQuizOption(button, option.word);
                optionsContainer.appendChild(button);
            });
        }

        // Select quiz option
        function selectQuizOption(button, selectedWord) {
            if (quizHasAnswered) return;
            
            quizHasAnswered = true;
            const correctWord = currentQuizWord.word;
            const isCorrect = selectedWord === correctWord;

            // Disable all options
            const allOptions = document.querySelectorAll('.quiz-option');
            allOptions.forEach(opt => opt.classList.add('disabled'));

            // Show result
            const feedbackEl = document.getElementById('quizFeedback');
            
            if (isCorrect) {
                quizCorrectCount++;
                button.classList.add('correct');
                feedbackEl.textContent = 'ðŸŽ‰ æ­£ç¢ºï¼å¤ªæ£’äº†ï¼';
                feedbackEl.className = 'quiz-feedback correct';
                
                // Play success sound
                speakEnglish('Correct!');
            } else {
                quizWrongCount++;
                button.classList.add('wrong');
                feedbackEl.textContent = 'ðŸ˜¢ ç­”éŒ¯äº†ï¼';
                feedbackEl.className = 'quiz-feedback wrong';
                
                // Add to wrong answers list
                wrongAnswersList.push(currentQuizWord);
                
                // Highlight correct answer
                allOptions.forEach(opt => {
                    if (opt.textContent === correctWord) {
                        opt.classList.add('show-correct');
                    }
                });
            }

            // Show answer info
            showQuizAnswerInfo();
            
            // Update score
            updateQuizScore();

            // Show next button
            document.getElementById('nextQuestionBtn').style.display = 'inline-block';

            // Show the emoji if it was hidden (audio mode)
            document.getElementById('quizEmoji').textContent = currentQuizWord.emoji;
        }

        // Show quiz answer info
        function showQuizAnswerInfo() {
            const answerInfo = document.getElementById('quizAnswerInfo');
            answerInfo.style.display = 'block';

            document.getElementById('quizCorrectWord').textContent = currentQuizWord.word;
            
            const syllables = splitSyllables(currentQuizWord.word);
            document.getElementById('quizWordSyllables').innerHTML = 
                'éŸ³ç¯€ï¼š' + syllables.map(s => `<span>${s}</span>`).join('');
            
            document.getElementById('quizWordExample').textContent = 
                'ä¾‹å¥ï¼š' + currentQuizWord.example;
        }

        // Play quiz audio
        function playQuizAudio() {
            if (currentQuizWord) {
                speakEnglish(currentQuizWord.word);
            }
        }

        // Speak correct answer
        function speakQuizCorrectAnswer() {
            if (currentQuizWord) {
                speakEnglish(currentQuizWord.word);
            }
        }

        // Update quiz score
        function updateQuizScore() {
            document.getElementById('quizCorrectCount').textContent = quizCorrectCount;
            document.getElementById('quizWrongCount').textContent = quizWrongCount;
            
            const total = quizCorrectCount + quizWrongCount;
            const accuracy = total > 0 ? Math.round((quizCorrectCount / total) * 100) : 0;
            document.getElementById('quizAccuracyRate').textContent = accuracy + '%';
        }

        // Next quiz question
        function nextQuizQuestion() {
            currentQuizIndex++;
            if (currentQuizIndex >= quizWords.length) {
                showQuizResult();
            } else {
                showQuizQuestion();
            }
        }

        // Show quiz result
        function showQuizResult() {
            document.getElementById('quizCard').style.display = 'none';
            const resultDiv = document.getElementById('quizResult');
            resultDiv.style.display = 'block';

            const total = quizCorrectCount + quizWrongCount;
            const accuracy = total > 0 ? Math.round((quizCorrectCount / total) * 100) : 0;
            
            // Calculate time
            const endTime = Date.now();
            const totalSeconds = Math.round((endTime - quizStartTime) / 1000);
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            const timeString = minutes > 0 ? `${minutes}åˆ†${seconds}ç§’` : `${seconds}ç§’`;

            // Determine message and emoji
            let emoji, message;
            if (accuracy >= 90) {
                emoji = 'ðŸ†ðŸŒŸðŸŽ‰';
                message = 'å¤ªåŽ²å®³äº†ï¼ä½ æ˜¯è‹±æ–‡å°å¤©æ‰ï¼';
            } else if (accuracy >= 70) {
                emoji = 'ðŸ‘ðŸ˜Šâœ¨';
                message = 'åšå¾—å¾ˆå¥½ï¼ç¹¼çºŒä¿æŒï¼';
            } else if (accuracy >= 50) {
                emoji = 'ðŸ’ªðŸ“š';
                message = 'ä¸éŒ¯çš„è¡¨ç¾ï¼å¤šç·´ç¿’æœƒæ›´å¥½ï¼';
            } else {
                emoji = 'ðŸ¤—ðŸ’•';
                message = 'æ²’é—œä¿‚ï¼å†è©¦ä¸€æ¬¡å§ï¼';
            }

            // Build wrong answers HTML
            let wrongAnswersHTML = '';
            if (wrongAnswersList.length > 0) {
                wrongAnswersHTML = `
                    <div class="wrong-answers-section">
                        <h3>ðŸ“ éœ€è¦è¤‡ç¿’çš„ç”Ÿå­—</h3>
                        ${wrongAnswersList.map(word => `
                            <div class="wrong-answer-item">
                                <span class="emoji">${word.emoji}</span>
                                <div class="word-info">
                                    <div class="english">${word.word}</div>
                                    <div class="chinese">${word.chinese} (${word.cantonese})</div>
                                </div>
                                <button class="speak-btn" onclick="speakEnglish('${word.word}')">ðŸ”Š</button>
                            </div>
                        `).join('')}
                    </div>
                `;
            }

            resultDiv.innerHTML = `
                <div class="quiz-result-emoji">${emoji}</div>
                <h2>æ¸¬é©—å®Œæˆï¼</h2>
                <div class="quiz-result-stats">
                    <div class="quiz-stat-item">
                        <span class="quiz-stat-label">ç¸½é¡Œæ•¸</span>
                        <span class="quiz-stat-value">${total}</span>
                    </div>
                    <div class="quiz-stat-item correct">
                        <span class="quiz-stat-label">æ­£ç¢º</span>
                        <span class="quiz-stat-value">${quizCorrectCount}</span>
                    </div>
                    <div class="quiz-stat-item wrong">
                        <span class="quiz-stat-label">éŒ¯èª¤</span>
                        <span class="quiz-stat-value">${quizWrongCount}</span>
                    </div>
                    <div class="quiz-stat-item accuracy">
                        <span class="quiz-stat-label">æ­£ç¢ºçŽ‡</span>
                        <span class="quiz-stat-value">${accuracy}%</span>
                    </div>
                    <div class="quiz-stat-item time">
                        <span class="quiz-stat-label">ç”¨æ™‚</span>
                        <span class="quiz-stat-value">${timeString}</span>
                    </div>
                </div>
                <p class="quiz-result-message">${message}</p>
                <div class="quiz-result-buttons">
                    <button class="quiz-restart-btn primary" onclick="restartQuizSameSettings()">
                        ðŸ”„ å†æ¸¬ä¸€æ¬¡
                    </button>
                    <button class="quiz-restart-btn secondary" onclick="resetQuizSettings()">
                        âš™ï¸ æ›´æ”¹è¨­å®š
                    </button>
                </div>
                ${wrongAnswersHTML}
            `;
        }

        // Restart quiz with same settings
        function restartQuizSameSettings() {
            startQuiz();
        }

        // Make quiz functions globally available
        window.startQuiz = startQuiz;
        window.playQuizAudio = playQuizAudio;
        window.selectQuizOption = selectQuizOption;
        window.speakQuizCorrectAnswer = speakQuizCorrectAnswer;
        window.nextQuizQuestion = nextQuizQuestion;
        window.resetQuizSettings = resetQuizSettings;
        window.restartQuizSameSettings = restartQuizSameSettings;

        // ==================== Progress Storage System ====================
        
        // Storage keys
        const STORAGE_KEYS = {
            LEARNED_WORDS: 'vocab_learned_words',
            REVIEW_WORDS: 'vocab_review_words',
            SPELLING_HISTORY: 'vocab_spelling_history',
            QUIZ_HISTORY: 'vocab_quiz_history',
            CATEGORY_PROGRESS: 'vocab_category_progress',
            LAST_ACTIVITY: 'vocab_last_activity'
        };

        // Initialize progress data
        let progressData = {
            learnedWords: [],           // Words that have been viewed/learned
            reviewWords: [],            // Words that need review (answered wrong)
            spellingHistory: [],        // Spelling practice history
            quizHistory: [],            // Quiz history
            categoryProgress: {},       // Progress by category
            lastActivity: null          // Last activity timestamp
        };

        // Load progress from localStorage
        function loadProgress() {
            try {
                const learnedWords = localStorage.getItem(STORAGE_KEYS.LEARNED_WORDS);
                const reviewWords = localStorage.getItem(STORAGE_KEYS.REVIEW_WORDS);
                const spellingHistory = localStorage.getItem(STORAGE_KEYS.SPELLING_HISTORY);
                const quizHistory = localStorage.getItem(STORAGE_KEYS.QUIZ_HISTORY);
                const categoryProgress = localStorage.getItem(STORAGE_KEYS.CATEGORY_PROGRESS);
                const lastActivity = localStorage.getItem(STORAGE_KEYS.LAST_ACTIVITY);

                if (learnedWords) progressData.learnedWords = JSON.parse(learnedWords);
                if (reviewWords) progressData.reviewWords = JSON.parse(reviewWords);
                if (spellingHistory) progressData.spellingHistory = JSON.parse(spellingHistory);
                if (quizHistory) progressData.quizHistory = JSON.parse(quizHistory);
                if (categoryProgress) progressData.categoryProgress = JSON.parse(categoryProgress);
                if (lastActivity) progressData.lastActivity = lastActivity;

                console.log('Progress loaded successfully');
            } catch (e) {
                console.error('Error loading progress:', e);
            }
        }

        // Save progress to localStorage
        function saveProgress() {
            try {
                localStorage.setItem(STORAGE_KEYS.LEARNED_WORDS, JSON.stringify(progressData.learnedWords));
                localStorage.setItem(STORAGE_KEYS.REVIEW_WORDS, JSON.stringify(progressData.reviewWords));
                localStorage.setItem(STORAGE_KEYS.SPELLING_HISTORY, JSON.stringify(progressData.spellingHistory));
                localStorage.setItem(STORAGE_KEYS.QUIZ_HISTORY, JSON.stringify(progressData.quizHistory));
                localStorage.setItem(STORAGE_KEYS.CATEGORY_PROGRESS, JSON.stringify(progressData.categoryProgress));
                localStorage.setItem(STORAGE_KEYS.LAST_ACTIVITY, new Date().toISOString());

                console.log('Progress saved successfully');
            } catch (e) {
                console.error('Error saving progress:', e);
            }
        }

        // Mark word as learned
        function markWordAsLearned(word, category) {
            const wordKey = `${category}_${word}`;
            if (!progressData.learnedWords.includes(wordKey)) {
                progressData.learnedWords.push(wordKey);
                
                // Update category progress
                if (!progressData.categoryProgress[category]) {
                    progressData.categoryProgress[category] = {
                        learned: 0,
                        total: vocabularyData[category] ? vocabularyData[category].length : 0
                    };
                }
                progressData.categoryProgress[category].learned++;
                
                saveProgress();
                updateProgressDisplay();
            }
        }

        // Add word to review list
        function addToReviewList(wordObj) {
            const existingIndex = progressData.reviewWords.findIndex(w => w.word === wordObj.word);
            if (existingIndex === -1) {
                progressData.reviewWords.push({
                    word: wordObj.word,
                    chinese: wordObj.chinese,
                    cantonese: wordObj.cantonese,
                    emoji: wordObj.emoji,
                    example: wordObj.example,
                    wrongCount: 1,
                    addedAt: new Date().toISOString()
                });
            } else {
                progressData.reviewWords[existingIndex].wrongCount++;
            }
            saveProgress();
            updateProgressDisplay();
        }

        // Remove word from review list
        function removeFromReviewList(word) {
            progressData.reviewWords = progressData.reviewWords.filter(w => w.word !== word);
            saveProgress();
            updateProgressDisplay();
        }

        // Clear all review words
        function clearReviewWords() {
            progressData.reviewWords = [];
            saveProgress();
            updateProgressDisplay();
            closeReviewModal();
        }

        // Save spelling practice result
        function saveSpellingResult(category, correct, wrong, accuracy) {
            const result = {
                date: new Date().toISOString(),
                category: category,
                correct: correct,
                wrong: wrong,
                total: correct + wrong,
                accuracy: accuracy
            };
            
            progressData.spellingHistory.unshift(result);
            
            // Keep only last 50 records
            if (progressData.spellingHistory.length > 50) {
                progressData.spellingHistory = progressData.spellingHistory.slice(0, 50);
            }
            
            saveProgress();
            updateProgressDisplay();
        }

        // Save quiz result
        function saveQuizResult(category, correct, wrong, accuracy, timeSpent) {
            const result = {
                date: new Date().toISOString(),
                category: category,
                correct: correct,
                wrong: wrong,
                total: correct + wrong,
                accuracy: accuracy,
                timeSpent: timeSpent
            };
            
            progressData.quizHistory.unshift(result);
            
            // Keep only last 50 records
            if (progressData.quizHistory.length > 50) {
                progressData.quizHistory = progressData.quizHistory.slice(0, 50);
            }
            
            saveProgress();
            updateProgressDisplay();
        }

        // Get total words count
        function getTotalWordsCount() {
            let total = 0;
            for (let category in vocabularyData) {
                total += vocabularyData[category].length;
            }
            return total;
        }

        // Get best spelling score
        function getBestSpellingScore() {
            if (progressData.spellingHistory.length === 0) return 0;
            return Math.max(...progressData.spellingHistory.map(h => h.accuracy));
        }

        // Get best quiz score
        function getBestQuizScore() {
            if (progressData.quizHistory.length === 0) return 0;
            return Math.max(...progressData.quizHistory.map(h => h.accuracy));
        }

        // Update progress display
        function updateProgressDisplay() {
            const totalWords = getTotalWordsCount();
            const learnedCount = progressData.learnedWords.length;
            const reviewCount = progressData.reviewWords.length;
            const bestSpelling = getBestSpellingScore();
            const bestQuiz = getBestQuizScore();
            const overallProgress = totalWords > 0 ? Math.round((learnedCount / totalWords) * 100) : 0;

            // Update stats
            document.getElementById('learnedWordsCount').textContent = learnedCount;
            document.getElementById('totalWordsCount').textContent = totalWords;
            document.getElementById('spellingBestScore').textContent = bestSpelling + '%';
            document.getElementById('quizBestScore').textContent = bestQuiz + '%';
            document.getElementById('reviewWordsCount').textContent = reviewCount;

            // Update progress bar
            document.getElementById('overallProgressBar').style.width = overallProgress + '%';
            document.getElementById('overallProgressPercent').textContent = overallProgress + '%';
        }

        // Toggle progress panel
        function toggleProgressPanel() {
            const content = document.getElementById('progressContent');
            const icon = document.getElementById('progressToggleIcon');
            
            if (content.classList.contains('show')) {
                content.classList.remove('show');
                icon.textContent = 'â–¼';
            } else {
                content.classList.add('show');
                icon.textContent = 'â–²';
                updateProgressDisplay();
            }
        }

        // Show review words modal
        function showReviewWords() {
            const modal = document.getElementById('reviewModal');
            const body = document.getElementById('reviewModalBody');
            
            if (progressData.reviewWords.length === 0) {
                body.innerHTML = `
                    <div class="empty-message">
                        <div class="empty-icon">ðŸŽ‰</div>
                        <p>å¤ªæ£’äº†ï¼æ²’æœ‰éœ€è¦è¤‡ç¿’çš„ç”Ÿå­—ï¼</p>
                    </div>
                `;
            } else {
                body.innerHTML = `
                    <div class="review-words-list">
                        ${progressData.reviewWords.map(word => `
                            <div class="review-word-item">
                                <span class="emoji">${word.emoji}</span>
                                <div class="word-details">
                                    <div class="english-word">${word.word}</div>
                                    <div class="chinese-word">${word.chinese} (${word.cantonese})</div>
                                </div>
                                <div class="word-actions">
                                    <button class="action-btn speak" onclick="speakEnglish('${word.word}')">ðŸ”Š</button>
                                    <button class="action-btn remove" onclick="removeFromReviewList('${word.word}'); showReviewWords();">âœ•</button>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }
            
            modal.style.display = 'flex';
        }

        // Close review modal
        function closeReviewModal() {
            document.getElementById('reviewModal').style.display = 'none';
        }

        // Start review quiz (quiz only review words)
        function startReviewQuiz() {
            if (progressData.reviewWords.length < 4) {
                alert('éœ€è¦è‡³å°‘4å€‹è¤‡ç¿’ç”Ÿå­—æ‰èƒ½é–‹å§‹æ¸¬é©—ï¼');
                return;
            }
            
            closeReviewModal();
            
            // Switch to quiz mode with review words
            switchMode('quiz');
            
            // Override quiz words with review words
            setTimeout(() => {
                quizWords = [...progressData.reviewWords];
                quizWords = shuffleArray(quizWords);
                currentQuizIndex = 0;
                quizCorrectCount = 0;
                quizWrongCount = 0;
                wrongAnswersList = [];
                quizStartTime = Date.now();
                
                document.querySelector('.quiz-settings').style.display = 'none';
                document.getElementById('quizCard').style.display = 'block';
                document.getElementById('quizResult').style.display = 'none';
                
                updateQuizScore();
                showQuizQuestion();
            }, 100);
        }

        // Show learning history modal
        function showLearningHistory() {
            const modal = document.getElementById('historyModal');
            const body = document.getElementById('historyModalBody');
            
            // Format date
            function formatDate(dateString) {
                const date = new Date(dateString);
                return date.toLocaleDateString('zh-TW', {
                    month: 'short',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
            }
            
            // Get score class
            function getScoreClass(accuracy) {
                if (accuracy >= 80) return 'high';
                if (accuracy >= 60) return 'medium';
                return 'low';
            }

            // Category progress section
            let categoryProgressHTML = '<div class="category-progress">';
            for (let category in vocabularyData) {
                const total = vocabularyData[category].length;
                const learned = progressData.learnedWords.filter(w => w.startsWith(category + '_')).length;
                const percent = Math.round((learned / total) * 100);
                
                const categoryNames = {
                    'animals': 'ðŸ¦ Animals',
                    'body': 'ðŸ‘¤ Body & Clothes',
                    'food': 'ðŸŽ Food & Drink',
                    'home': 'ðŸ  Home & School',
                    'sports': 'âš½ Sports & Toys',
                    'time': 'ðŸŒ¤ï¸ Time & Transport',
                    'family': 'ðŸ‘¨â€ðŸ‘©â€ðŸ‘§ Family & Work',
                    'places': 'ðŸ–ï¸ Places',
                    'colours': 'ðŸŽ¨ Colours & Numbers',
                    'verbs': 'ðŸƒ Verbs',
                    'adjectives': 'ðŸ˜Š Adjectives'
                };
                
                categoryProgressHTML += `
                    <div class="category-progress-item">
                        <div class="category-name">${categoryNames[category] || category}</div>
                        <div class="mini-progress-bar">
                            <div class="mini-progress-fill" style="width: ${percent}%"></div>
                        </div>
                        <div class="category-stats">
                            <span>${learned} / ${total}</span>
                            <span>${percent}%</span>
                        </div>
                    </div>
                `;
            }
            categoryProgressHTML += '</div>';

            // Quiz history section
            let quizHistoryHTML = '';
            if (progressData.quizHistory.length > 0) {
                quizHistoryHTML = `
                    <table class="history-table">
                        <thead>
                            <tr>
                                <th>æ—¥æœŸ</th>
                                <th>åˆ†é¡ž</th>
                                <th>æ­£ç¢º</th>
                                <th>éŒ¯èª¤</th>
                                <th>æ­£ç¢ºçŽ‡</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${progressData.quizHistory.slice(0, 10).map(h => `
                                <tr>
                                    <td>${formatDate(h.date)}</td>
                                    <td>${h.category === 'all' ? 'å…¨éƒ¨' : h.category}</td>
                                    <td>${h.correct}</td>
                                    <td>${h.wrong}</td>
                                    <td class="history-score ${getScoreClass(h.accuracy)}">${h.accuracy}%</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                `;
            } else {
                quizHistoryHTML = '<p style="text-align: center; color: #666;">å°šç„¡æ¸¬é©—è¨˜éŒ„</p>';
            }

            // Spelling history section
            let spellingHistoryHTML = '';
            if (progressData.spellingHistory.length > 0) {
                spellingHistoryHTML = `
                    <table class="history-table">
                        <thead>
                            <tr>
                                <th>æ—¥æœŸ</th>
                                <th>åˆ†é¡ž</th>
                                <th>æ­£ç¢º</th>
                                <th>éŒ¯èª¤</th>
                                <th>æ­£ç¢ºçŽ‡</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${progressData.spellingHistory.slice(0, 10).map(h => `
                                <tr>
                                    <td>${formatDate(h.date)}</td>
                                    <td>${h.category === 'all' ? 'å…¨éƒ¨' : h.category}</td>
                                    <td>${h.correct}</td>
                                    <td>${h.wrong}</td>
                                    <td class="history-score ${getScoreClass(h.accuracy)}">${h.accuracy}%</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                `;
            } else {
                spellingHistoryHTML = '<p style="text-align: center; color: #666;">å°šç„¡ä¸²å­—ç·´ç¿’è¨˜éŒ„</p>';
            }
            
            body.innerHTML = `
                <div class="history-section">
                    <h3>ðŸ“š å„åˆ†é¡žå­¸ç¿’é€²åº¦</h3>
                    ${categoryProgressHTML}
                </div>
                <div class="history-section">
                    <h3>ðŸŽ¯ æ¸¬é©—è¨˜éŒ„ï¼ˆæœ€è¿‘10æ¬¡ï¼‰</h3>
                    ${quizHistoryHTML}
                </div>
                <div class="history-section">
                    <h3>âœï¸ ä¸²å­—ç·´ç¿’è¨˜éŒ„ï¼ˆæœ€è¿‘10æ¬¡ï¼‰</h3>
                    ${spellingHistoryHTML}
                </div>
            `;
            
            modal.style.display = 'flex';
        }

        // Close history modal
        function closeHistoryModal() {
            document.getElementById('historyModal').style.display = 'none';
        }

        // Confirm reset progress
        function confirmResetProgress() {
            document.getElementById('resetModal').style.display = 'flex';
        }

        // Close reset modal
        function closeResetModal() {
            document.getElementById('resetModal').style.display = 'none';
        }

        // Reset all progress
        function resetAllProgress() {
            progressData = {
                learnedWords: [],
                reviewWords: [],
                spellingHistory: [],
                quizHistory: [],
                categoryProgress: {},
                lastActivity: null
            };
            
            // Clear localStorage
            for (let key in STORAGE_KEYS) {
                localStorage.removeItem(STORAGE_KEYS[key]);
            }
            
            saveProgress();
            updateProgressDisplay();
            closeResetModal();
            
            alert('å­¸ç¿’é€²åº¦å·²é‡ç½®ï¼');
        }

        // ==================== Integrate with existing functions ====================

        // Modify the original generateCards function to track learned words
        const originalGenerateCards = generateCards;
        generateCards = function(category) {
            originalGenerateCards(category);
            
            // Add click tracking to mark words as learned
            const cards = document.querySelectorAll('.card');
            cards.forEach((card, index) => {
                card.addEventListener('click', function() {
                    const words = vocabularyData[category];
                    if (words && words[index]) {
                        markWordAsLearned(words[index].word, category);
                    }
                });
            });
        };

        // Override checkSpelling to save results and add wrong words to review
        const originalCheckSpelling = checkSpelling;
        checkSpelling = function() {
            if (!currentWord || hasAnswered) return;

            const input = document.getElementById('spellingInput');
            const userAnswer = input.value.trim().toLowerCase();
            const correctAnswer = currentWord.word.toLowerCase();

            hasAnswered = true;
            input.disabled = true;

            const resultDiv = document.getElementById('spellingResult');
            const answerDiv = document.getElementById('spellingAnswer');

            if (userAnswer === correctAnswer) {
                correctCount++;
                input.className = 'spelling-input correct';
                resultDiv.textContent = 'ðŸŽ‰ æ­£ç¢ºï¼å¤ªæ£’äº†ï¼';
                resultDiv.className = 'spelling-result correct';
                speakEnglish('Great job!');
                
                // Remove from review list if correct
                removeFromReviewList(currentWord.word);
            } else {
                wrongCount++;
                input.className = 'spelling-input wrong';
                resultDiv.textContent = 'ðŸ˜¢ å†è©¦è©¦å§ï¼';
                resultDiv.className = 'spelling-result wrong';
                
                answerDiv.style.display = 'block';
                document.getElementById('correctAnswerText').textContent = currentWord.word;
                
                const syllables = splitSyllables(currentWord.word);
                document.getElementById('answerSyllables').innerHTML = 
                    'éŸ³ç¯€ï¼š' + syllables.map(s => `<span>${s}</span>`).join('');
                document.getElementById('answerExample').textContent = 
                    'ä¾‹å¥ï¼š' + currentWord.example;
                
                // Add to review list
                addToReviewList(currentWord);
            }

            updateScore();
        };

        // Override showFinalResult for spelling to save history
        const originalShowFinalResultSpelling = showFinalResult;
        showFinalResult = function() {
            const total = correctCount + wrongCount;
            const accuracy = total > 0 ? Math.round((correctCount / total) * 100) : 0;
            
            // Save spelling result
            const category = document.getElementById('spellingCategory').value;
            saveSpellingResult(category, correctCount, wrongCount, accuracy);
            
            // Call original function
            let message = '';
            let emoji = '';
            
            if (accuracy >= 90) {
                emoji = 'ðŸ†ðŸŒŸðŸŽ‰';
                message = 'å¤ªåŽ²å®³äº†ï¼ä½ æ˜¯æ‹¼å­—é«˜æ‰‹ï¼';
            } else if (accuracy >= 70) {
                emoji = 'ðŸ‘ðŸ˜Šâœ¨';
                message = 'åšå¾—å¾ˆå¥½ï¼ç¹¼çºŒåŠªåŠ›ï¼';
            } else if (accuracy >= 50) {
                emoji = 'ðŸ’ªðŸ“š';
                message = 'ä¸éŒ¯çš„è¡¨ç¾ï¼å¤šç·´ç¿’æœƒæ›´å¥½ï¼';
            } else {
                emoji = 'ðŸ¤—ðŸ’•';
                message = 'æ²’é—œä¿‚ï¼å†è©¦ä¸€æ¬¡å§ï¼';
            }

            const spellingCard = document.getElementById('spellingCard');
            spellingCard.innerHTML = `
                <div class="final-result">
                    <div style="font-size: 4em; margin-bottom: 20px;">${emoji}</div>
                    <h2 style="color: #764ba2; margin-bottom: 20px;">ç·´ç¿’å®Œæˆï¼</h2>
                    <div class="result-stats">
                        <div class="stat-item">
                            <span class="stat-label">ç¸½é¡Œæ•¸</span>
                            <span class="stat-value">${total}</span>
                        </div>
                        <div class="stat-item correct">
                            <span class="stat-label">æ­£ç¢º</span>
                            <span class="stat-value">${correctCount}</span>
                        </div>
                        <div class="stat-item wrong">
                            <span class="stat-label">éŒ¯èª¤</span>
                            <span class="stat-value">${wrongCount}</span>
                        </div>
                        <div class="stat-item accuracy">
                            <span class="stat-label">æ­£ç¢ºçŽ‡</span>
                            <span class="stat-value">${accuracy}%</span>
                        </div>
                    </div>
                    <p style="font-size: 1.5em; margin: 25px 0; color: #333;">${message}</p>
                    <button class="restart-btn" onclick="restartSpellingFull()" style="font-size: 1.3em; padding: 15px 40px;">
                        ðŸ”„ å†çŽ©ä¸€æ¬¡
                    </button>
                </div>
            `;
        };

        // Override selectQuizOption to track wrong answers for review
        const originalSelectQuizOption = selectQuizOption;
        selectQuizOption = function(button, selectedWord) {
            if (quizHasAnswered) return;
            
            quizHasAnswered = true;
            const correctWord = currentQuizWord.word;
            const isCorrect = selectedWord === correctWord;

            const allOptions = document.querySelectorAll('.quiz-option');
            allOptions.forEach(opt => opt.classList.add('disabled'));

            const feedbackEl = document.getElementById('quizFeedback');
            
            if (isCorrect) {
                quizCorrectCount++;
                button.classList.add('correct');
                feedbackEl.textContent = 'ðŸŽ‰ æ­£ç¢ºï¼å¤ªæ£’äº†ï¼';
                feedbackEl.className = 'quiz-feedback correct';
                speakEnglish('Correct!');
                
                // Remove from review list if correct
                removeFromReviewList(currentQuizWord.word);
            } else {
                quizWrongCount++;
                button.classList.add('wrong');
                feedbackEl.textContent = 'ðŸ˜¢ ç­”éŒ¯äº†ï¼';
                feedbackEl.className = 'quiz-feedback wrong';
                
                wrongAnswersList.push(currentQuizWord);
                
                // Add to review list
                addToReviewList(currentQuizWord);
                
                allOptions.forEach(opt => {
                    if (opt.textContent === correctWord) {
                        opt.classList.add('show-correct');
                    }
                });
            }

            showQuizAnswerInfo();
            updateQuizScore();
            document.getElementById('nextQuestionBtn').style.display = 'inline-block';
            document.getElementById('quizEmoji').textContent = currentQuizWord.emoji;
        };

        // Override showQuizResult to save history
        const originalShowQuizResult = showQuizResult;
        showQuizResult = function() {
            document.getElementById('quizCard').style.display = 'none';
            const resultDiv = document.getElementById('quizResult');
            resultDiv.style.display = 'block';

            const total = quizCorrectCount + quizWrongCount;
            const accuracy = total > 0 ? Math.round((quizCorrectCount / total) * 100) : 0;
            
            const endTime = Date.now();
            const totalSeconds = Math.round((endTime - quizStartTime) / 1000);
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            const timeString = minutes > 0 ? `${minutes}åˆ†${seconds}ç§’` : `${seconds}ç§’`;

            // Save quiz result
            const category = document.getElementById('quizCategory').value;
            saveQuizResult(category, quizCorrectCount, quizWrongCount, accuracy, totalSeconds);

            let emoji, message;
            if (accuracy >= 90) {
                emoji = 'ðŸ†ðŸŒŸðŸŽ‰';
                message = 'å¤ªåŽ²å®³äº†ï¼ä½ æ˜¯è‹±æ–‡å°å¤©æ‰ï¼';
            } else if (accuracy >= 70) {
                emoji = 'ðŸ‘ðŸ˜Šâœ¨';
                message = 'åšå¾—å¾ˆå¥½ï¼ç¹¼çºŒä¿æŒï¼';
            } else if (accuracy >= 50) {
                emoji = 'ðŸ’ªðŸ“š';
                message = 'ä¸éŒ¯çš„è¡¨ç¾ï¼å¤šç·´ç¿’æœƒæ›´å¥½ï¼';
            } else {
                emoji = 'ðŸ¤—ðŸ’•';
                message = 'æ²’é—œä¿‚ï¼å†è©¦ä¸€æ¬¡å§ï¼';
            }

            let wrongAnswersHTML = '';
            if (wrongAnswersList.length > 0) {
                wrongAnswersHTML = `
                    <div class="wrong-answers-section">
                        <h3>ðŸ“ éœ€è¦è¤‡ç¿’çš„ç”Ÿå­—ï¼ˆå·²è‡ªå‹•åŠ å…¥è¤‡ç¿’åˆ—è¡¨ï¼‰</h3>
                        ${wrongAnswersList.map(word => `
                            <div class="wrong-answer-item">
                                <span class="emoji">${word.emoji}</span>
                                <div class="word-info">
                                    <div class="english">${word.word}</div>
                                    <div class="chinese">${word.chinese} (${word.cantonese})</div>
                                </div>
                                <button class="speak-btn" onclick="speakEnglish('${word.word}')">ðŸ”Š</button>
                            </div>
                        `).join('')}
                    </div>
                `;
            }

            resultDiv.innerHTML = `
                <div class="quiz-result-emoji">${emoji}</div>
                <h2>æ¸¬é©—å®Œæˆï¼</h2>
                <div class="quiz-result-stats">
                    <div class="quiz-stat-item">
                        <span class="quiz-stat-label">ç¸½é¡Œæ•¸</span>
                        <span class="quiz-stat-value">${total}</span>
                    </div>
                    <div class="quiz-stat-item correct">
                        <span class="quiz-stat-label">æ­£ç¢º</span>
                        <span class="quiz-stat-value">${quizCorrectCount}</span>
                    </div>
                    <div class="quiz-stat-item wrong">
                        <span class="quiz-stat-label">éŒ¯èª¤</span>
                        <span class="quiz-stat-value">${quizWrongCount}</span>
                    </div>
                    <div class="quiz-stat-item accuracy">
                        <span class="quiz-stat-label">æ­£ç¢ºçŽ‡</span>
                        <span class="quiz-stat-value">${accuracy}%</span>
                    </div>
                    <div class="quiz-stat-item time">
                        <span class="quiz-stat-label">ç”¨æ™‚</span>
                        <span class="quiz-stat-value">${timeString}</span>
                    </div>
                </div>
                <p class="quiz-result-message">${message}</p>
                <div class="quiz-result-buttons">
                    <button class="quiz-restart-btn primary" onclick="restartQuizSameSettings()">
                        ðŸ”„ å†æ¸¬ä¸€æ¬¡
                    </button>
                    <button class="quiz-restart-btn secondary" onclick="resetQuizSettings()">
                        âš™ï¸ æ›´æ”¹è¨­å®š
                    </button>
                </div>
                ${wrongAnswersHTML}
            `;
        };

        // ==================== Initialize on page load ====================
        
        // Modify window.onload to load progress
        const originalOnLoad = window.onload;
        window.onload = function() {
            // Load saved progress
            loadProgress();
            updateProgressDisplay();
            
            // Call original onload
            setTimeout(() => {
                generateCards('animals');
            }, 100);
        };

        // Make functions globally available
        window.toggleProgressPanel = toggleProgressPanel;
        window.showReviewWords = showReviewWords;
        window.closeReviewModal = closeReviewModal;
        window.startReviewQuiz = startReviewQuiz;
        window.removeFromReviewList = removeFromReviewList;
        window.clearReviewWords = clearReviewWords;
        window.showLearningHistory = showLearningHistory;
        window.closeHistoryModal = closeHistoryModal;
        window.confirmResetProgress = confirmResetProgress;
        window.closeResetModal = closeResetModal;
        window.resetAllProgress = resetAllProgress;

        // ==================== Learned Words View ====================

        // Category names mapping
        const categoryNames = {
            'animals': 'ðŸ¦ Animals å‹•ç‰©',
            'body': 'ðŸ‘¤ Body & Clothes èº«é«”èˆ‡è¡£æœ',
            'food': 'ðŸŽ Food & Drink é£Ÿç‰©èˆ‡é£²æ–™',
            'home': 'ðŸ  Home & School å®¶åº­èˆ‡å­¸æ ¡',
            'sports': 'âš½ Sports & Toys é‹å‹•èˆ‡çŽ©å…·',
            'time': 'ðŸŒ¤ï¸ Time & Transport æ™‚é–“èˆ‡äº¤é€š',
            'family': 'ðŸ‘¨â€ðŸ‘©â€ðŸ‘§ Family & Work å®¶äººèˆ‡è·æ¥­',
            'places': 'ðŸ–ï¸ Places åœ°æ–¹',
            'colours': 'ðŸŽ¨ Colours & Numbers é¡è‰²èˆ‡æ•¸å­—',
            'verbs': 'ðŸƒ Verbs å‹•è©ž',
            'adjectives': 'ðŸ˜Š Adjectives å½¢å®¹è©ž'
        };

        // Show learned words modal
        function showLearnedWords() {
            const modal = document.getElementById('learnedModal');
            const body = document.getElementById('learnedModalBody');
            
            if (progressData.learnedWords.length === 0) {
                body.innerHTML = `
                    <div class="empty-message">
                        <div class="empty-icon">ðŸ“š</div>
                        <p>é‚„æ²’æœ‰å­¸ç¿’ä»»ä½•ç”Ÿå­—ï¼</p>
                        <p style="color: #999; font-size: 0.9em;">é»žæ“Šå­—å¡å°±å¯ä»¥é–‹å§‹å­¸ç¿’å›‰ï¼</p>
                    </div>
                `;
            } else {
                // Group learned words by category
                const groupedWords = {};
                
                progressData.learnedWords.forEach(wordKey => {
                    const [category, ...wordParts] = wordKey.split('_');
                    const word = wordParts.join('_');
                    
                    if (!groupedWords[category]) {
                        groupedWords[category] = [];
                    }
                    
                    // Find word details from vocabulary data
                    if (vocabularyData[category]) {
                        const wordData = vocabularyData[category].find(w => w.word === word);
                        if (wordData) {
                            groupedWords[category].push(wordData);
                        }
                    }
                });

                // Calculate stats
                const totalLearned = progressData.learnedWords.length;
                const totalWords = getTotalWordsCount();
                const categoriesLearned = Object.keys(groupedWords).length;
                const totalCategories = Object.keys(vocabularyData).length;

                let html = `
                    <div class="learned-words-toolbar">
                        <input type="text" class="learned-search" id="learnedSearch" 
                               placeholder="ðŸ” æœå°‹ç”Ÿå­—..." oninput="filterLearnedWords()">
                        <select class="learned-filter" id="learnedFilter" onchange="filterLearnedWords()">
                            <option value="all">å…¨éƒ¨åˆ†é¡ž</option>
                            ${Object.keys(groupedWords).map(cat => 
                                `<option value="${cat}">${categoryNames[cat] || cat}</option>`
                            ).join('')}
                        </select>
                    </div>

                    <div class="learned-stats-bar">
                        <div class="stat">
                            <div class="stat-value">${totalLearned}</div>
                            <div class="stat-label">å·²å­¸ç”Ÿå­—</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value">${totalWords}</div>
                            <div class="stat-label">ç¸½ç”Ÿå­—æ•¸</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value">${Math.round((totalLearned / totalWords) * 100)}%</div>
                            <div class="stat-label">å®Œæˆåº¦</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value">${categoriesLearned}/${totalCategories}</div>
                            <div class="stat-label">åˆ†é¡žé€²åº¦</div>
                        </div>
                    </div>

                    <div class="learned-words-container" id="learnedWordsContainer">
                `;

                // Render each category
                for (let category in groupedWords) {
                    if (groupedWords[category].length === 0) continue;
                    
                    const categoryTotal = vocabularyData[category] ? vocabularyData[category].length : 0;
                    const categoryLearned = groupedWords[category].length;
                    
                    html += `
                        <div class="learned-category-section" data-category="${category}">
                            <div class="learned-category-header" onclick="toggleLearnedCategory(this)">
                                <span>${categoryNames[category] || category}</span>
                                <span class="category-count">${categoryLearned} / ${categoryTotal}</span>
                                <span class="toggle-icon">â–¼</span>
                            </div>
                            <div class="learned-words-grid">
                                ${groupedWords[category].map(word => `
                                    <div class="learned-word-card" data-word="${word.word.toLowerCase()}">
                                        <div class="word-emoji">${word.emoji}</div>
                                        <div class="word-english">${word.word}</div>
                                        <div class="word-chinese">${word.chinese}</div>
                                        <div class="word-actions">
                                            <button class="mini-btn speak" onclick="event.stopPropagation(); speakEnglish('${word.word}')">ðŸ”Š</button>
                                            <button class="mini-btn remove" onclick="event.stopPropagation(); removeLearnedWord('${category}', '${word.word}')" title="ç§»é™¤">âœ•</button>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    `;
                }

                html += '</div>';
                body.innerHTML = html;
            }
            
            modal.style.display = 'flex';
        }

        // Close learned words modal
        function closeLearnedModal() {
            document.getElementById('learnedModal').style.display = 'none';
        }

        // Toggle category section
        function toggleLearnedCategory(header) {
            const grid = header.nextElementSibling;
            const isCollapsed = grid.classList.contains('collapsed');
            
            if (isCollapsed) {
                grid.classList.remove('collapsed');
                header.classList.remove('collapsed');
            } else {
                grid.classList.add('collapsed');
                header.classList.add('collapsed');
            }
        }

        // Filter learned words
        function filterLearnedWords() {
            const searchTerm = document.getElementById('learnedSearch').value.toLowerCase();
            const filterCategory = document.getElementById('learnedFilter').value;
            
            const sections = document.querySelectorAll('.learned-category-section');
            const cards = document.querySelectorAll('.learned-word-card');
            
            // Filter by category
            sections.forEach(section => {
                const category = section.dataset.category;
                if (filterCategory === 'all' || filterCategory === category) {
                    section.style.display = 'block';
                } else {
                    section.style.display = 'none';
                }
            });
            
            // Filter by search term
            cards.forEach(card => {
                const word = card.dataset.word;
                const englishText = card.querySelector('.word-english').textContent.toLowerCase();
                const chineseText = card.querySelector('.word-chinese').textContent.toLowerCase();
                
                if (searchTerm === '' || 
                    englishText.includes(searchTerm) || 
                    chineseText.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
            
            // Check if any cards are visible in each section
            sections.forEach(section => {
                if (section.style.display !== 'none') {
                    const visibleCards = section.querySelectorAll('.learned-word-card[style*="display: block"], .learned-word-card:not([style*="display"])');
                    let hasVisible = false;
                    visibleCards.forEach(card => {
                        if (card.style.display !== 'none') {
                            hasVisible = true;
                        }
                    });
                    
                    // If filtering and no visible cards, hide section
                    if (searchTerm !== '' && !hasVisible) {
                        section.style.display = 'none';
                    }
                }
            });
        }

        // Remove a learned word
        function removeLearnedWord(category, word) {
            const wordKey = `${category}_${word}`;
            progressData.learnedWords = progressData.learnedWords.filter(w => w !== wordKey);
            
            // Update category progress
            if (progressData.categoryProgress[category]) {
                progressData.categoryProgress[category].learned = Math.max(0, progressData.categoryProgress[category].learned - 1);
            }
            
            saveProgress();
            updateProgressDisplay();
            
            // Refresh the modal
            showLearnedWords();
        }

        // Export learned words
        function exportLearnedWords() {
            if (progressData.learnedWords.length === 0) {
                alert('æ²’æœ‰å¯åŒ¯å‡ºçš„ç”Ÿå­—ï¼');
                return;
            }
            
            // Group words by category
            const groupedWords = {};
            progressData.learnedWords.forEach(wordKey => {
                const [category, ...wordParts] = wordKey.split('_');
                const word = wordParts.join('_');
                
                if (!groupedWords[category]) {
                    groupedWords[category] = [];
                }
                
                if (vocabularyData[category]) {
                    const wordData = vocabularyData[category].find(w => w.word === word);
                    if (wordData) {
                        groupedWords[category].push(wordData);
                    }
                }
            });
            
            // Create export text
            let exportText = 'ðŸ“š æˆ‘çš„è‹±æ–‡ç”Ÿå­—å­¸ç¿’è¨˜éŒ„\n';
            exportText += '========================\n\n';
            exportText += `ç¸½å…±å­¸ç¿’äº† ${progressData.learnedWords.length} å€‹ç”Ÿå­—\n`;
            exportText += `åŒ¯å‡ºæ—¥æœŸ: ${new Date().toLocaleDateString('zh-TW')}\n\n`;
            
            for (let category in groupedWords) {
                exportText += `\nã€${categoryNames[category] || category}ã€‘\n`;
                exportText += '-'.repeat(30) + '\n';
                
                groupedWords[category].forEach(word => {
                    exportText += `${word.emoji} ${word.word} - ${word.chinese}\n`;
                    exportText += `   ä¾‹å¥: ${word.example}\n`;
                });
            }
            
            // Create and download file
            const blob = new Blob([exportText], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `è‹±æ–‡ç”Ÿå­—å­¸ç¿’è¨˜éŒ„_${new Date().toLocaleDateString('zh-TW').replace(/\//g, '-')}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Also make the review words count clickable
        // Update the progress-stat-item for review words in HTML to be clickable

        // Make functions globally available
        window.showLearnedWords = showLearnedWords;
        window.closeLearnedModal = closeLearnedModal;
        window.toggleLearnedCategory = toggleLearnedCategory;
        window.filterLearnedWords = filterLearnedWords;
        window.removeLearnedWord = removeLearnedWord;
        window.exportLearnedWords = exportLearnedWords;


                // ==================== Background Music System - Castle in the Sky ====================

        let audioContext = null;
        let musicPlaying = false;
        let musicVolume = 0.3;
        let currentStyle = 'crystal';
        let musicTimeout = null;
        let activeNodes = [];
        let currentNoteIndex = 0;

        // Musical notes frequencies (Hz)
        const notes = {
            // Octave 3
            'C3': 130.81, 'D3': 146.83, 'E3': 164.81, 'F3': 174.61,
            'G3': 196.00, 'A3': 220.00, 'B3': 246.94,
            // Octave 4
            'C4': 261.63, 'C#4': 277.18, 'D4': 293.66, 'D#4': 311.13,
            'E4': 329.63, 'F4': 349.23, 'F#4': 369.99, 'G4': 392.00,
            'G#4': 415.30, 'A4': 440.00, 'A#4': 466.16, 'B4': 493.88,
            // Octave 5
            'C5': 523.25, 'C#5': 554.37, 'D5': 587.33, 'D#5': 622.25,
            'E5': 659.25, 'F5': 698.46, 'F#5': 739.99, 'G5': 783.99,
            'G#5': 830.61, 'A5': 880.00, 'A#5': 932.33, 'B5': 987.77,
            // Octave 6
            'C6': 1046.50, 'D6': 1174.66, 'E6': 1318.51,
            // Rest
            'REST': 0
        };

        // å¤©ç©ºä¹‹åŸŽå®Œæ•´ä¸»æ—‹å¾‹ (Castle in the Sky - Main Theme)
        // æ ¼å¼: [éŸ³ç¬¦, æŒçºŒæ™‚é–“(æ‹), æ˜¯å¦é€£æŽ¥ä¸‹ä¸€å€‹éŸ³]
        const castleInTheSkyMelody = [
            // å‰å¥
            ['E5', 0.5], ['F5', 0.5], ['G5', 1], ['G5', 0.5], ['A5', 0.5],
            ['G5', 0.5], ['F5', 0.5], ['E5', 1], ['E5', 0.5], ['D5', 0.5],
            ['E5', 1.5], ['REST', 0.5],
            
            // ç¬¬ä¸€æ®µ A
            ['E5', 0.5], ['F5', 0.5], ['G5', 1], ['G5', 0.5], ['A5', 0.5],
            ['G5', 0.5], ['F5', 0.5], ['E5', 1], ['E5', 0.5], ['D5', 0.5],
            ['C5', 1.5], ['REST', 0.5],
            
            ['C5', 0.5], ['D5', 0.5], ['E5', 1], ['E5', 0.5], ['F5', 0.5],
            ['E5', 0.5], ['D5', 0.5], ['C5', 1], ['C5', 0.5], ['B4', 0.5],
            ['A4', 1.5], ['REST', 0.5],
            
            // ç¬¬ä¸€æ®µ B
            ['A4', 0.5], ['B4', 0.5], ['C5', 1], ['C5', 0.5], ['D5', 0.5],
            ['C5', 0.5], ['B4', 0.5], ['A4', 1], ['A4', 0.5], ['G4', 0.5],
            ['E4', 1.5], ['REST', 0.5],
            
            ['E4', 0.5], ['F4', 0.5], ['G4', 1], ['G4', 0.5], ['A4', 0.5],
            ['G4', 0.5], ['F4', 0.5], ['E4', 1], ['E4', 0.5], ['D4', 0.5],
            ['C4', 2], ['REST', 1],
            
            // å‰¯æ­Œéƒ¨åˆ† - é«˜æ½®
            ['G5', 1], ['A5', 0.5], ['G5', 0.5], ['E5', 1], ['D5', 1],
            ['E5', 0.5], ['G5', 0.5], ['A5', 1.5], ['REST', 0.5],
            
            ['A5', 1], ['B5', 0.5], ['A5', 0.5], ['G5', 1], ['E5', 1],
            ['G5', 0.5], ['A5', 0.5], ['G5', 1.5], ['REST', 0.5],
            
            ['G5', 1], ['A5', 0.5], ['G5', 0.5], ['E5', 1], ['D5', 1],
            ['E5', 0.5], ['G5', 0.5], ['A5', 1], ['G5', 1],
            
            ['E5', 1], ['D5', 0.5], ['C5', 0.5], ['D5', 1], ['E5', 1],
            ['C5', 2], ['REST', 1],
            
            // ç¬¬äºŒæ®µ - è®Šå¥
            ['E5', 0.5], ['F5', 0.5], ['G5', 1], ['G5', 0.5], ['C6', 0.5],
            ['B5', 0.5], ['A5', 0.5], ['G5', 1], ['G5', 0.5], ['F5', 0.5],
            ['E5', 1.5], ['REST', 0.5],
            
            ['E5', 0.5], ['F5', 0.5], ['G5', 1], ['G5', 0.5], ['A5', 0.5],
            ['G5', 0.5], ['F5', 0.5], ['E5', 1], ['E5', 0.5], ['D5', 0.5],
            ['C5', 1.5], ['REST', 0.5],
            
            // çµå°¾
            ['C5', 0.5], ['D5', 0.5], ['E5', 1], ['E5', 0.5], ['G5', 0.5],
            ['F5', 0.5], ['E5', 0.5], ['D5', 1], ['D5', 0.5], ['C5', 0.5],
            ['C5', 2], ['REST', 2]
        ];

        // å’Œå¼¦ä¼´å¥ï¼ˆç°¡åŒ–ç‰ˆï¼‰
        const castleChords = [
            { notes: ['C4', 'E4', 'G4'], duration: 4 },      // C
            { notes: ['A3', 'C4', 'E4'], duration: 4 },      // Am
            { notes: ['F3', 'A3', 'C4'], duration: 4 },      // F
            { notes: ['G3', 'B3', 'D4'], duration: 4 },      // G
            { notes: ['C4', 'E4', 'G4'], duration: 4 },      // C
            { notes: ['A3', 'C4', 'E4'], duration: 4 },      // Am
            { notes: ['D4', 'F4', 'A4'], duration: 4 },      // Dm
            { notes: ['G3', 'B3', 'D4'], duration: 4 },      // G
        ];

        // éŸ³æ¨‚é¢¨æ ¼è¨­å®š
        const musicStyles = {
            crystal: {
                name: 'ðŸ’Ž æ°´æ™¶éŸ³è‰²',
                waveform: 'sine',
                attack: 0.02,
                decay: 0.3,
                sustain: 0.4,
                release: 0.8,
                filterFreq: 3000,
                reverbMix: 0.4,
                tempo: 480  // æ¯æ‹æ¯«ç§’æ•¸
            },
            piano: {
                name: 'ðŸŽ¹ é‹¼ç´éŸ³è‰²',
                waveform: 'triangle',
                attack: 0.01,
                decay: 0.2,
                sustain: 0.3,
                release: 0.5,
                filterFreq: 4000,
                reverbMix: 0.3,
                tempo: 500
            },
            musicbox: {
                name: 'ðŸŽ éŸ³æ¨‚ç›’',
                waveform: 'sine',
                attack: 0.001,
                decay: 0.1,
                sustain: 0.2,
                release: 1.2,
                filterFreq: 5000,
                reverbMix: 0.5,
                tempo: 400
            },
            orchestral: {
                name: 'ðŸŽ» ç®¡å¼¦æ¨‚',
                waveform: 'sawtooth',
                attack: 0.1,
                decay: 0.3,
                sustain: 0.6,
                release: 0.4,
                filterFreq: 2500,
                reverbMix: 0.5,
                tempo: 550
            }
        };

        // Initialize audio context
        function initAudioContext() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
            return audioContext;
        }

        // Create reverb impulse response
        function createReverb(duration = 2.5, decay = 2) {
            const sampleRate = audioContext.sampleRate;
            const length = sampleRate * duration;
            const impulse = audioContext.createBuffer(2, length, sampleRate);
            
            for (let channel = 0; channel < 2; channel++) {
                const channelData = impulse.getChannelData(channel);
                for (let i = 0; i < length; i++) {
                    channelData[i] = (Math.random() * 2 - 1) * Math.pow(1 - i / length, decay);
                }
            }
            
            const convolver = audioContext.createConvolver();
            convolver.buffer = impulse;
            return convolver;
        }

        // Create master effects chain
        let masterGain = null;
        let masterReverb = null;
        let reverbGain = null;
        let dryGain = null;

        function createMasterChain() {
            if (!audioContext) return;
            
            // Master gain
            masterGain = audioContext.createGain();
            masterGain.gain.value = musicVolume;
            
            // Reverb
            masterReverb = createReverb(2.5, 2);
            
            // Wet/Dry mix
            const style = musicStyles[currentStyle];
            dryGain = audioContext.createGain();
            dryGain.gain.value = 1 - style.reverbMix;
            
            reverbGain = audioContext.createGain();
            reverbGain.gain.value = style.reverbMix;
            
            // Connect
            masterGain.connect(dryGain);
            masterGain.connect(masterReverb);
            masterReverb.connect(reverbGain);
            
            dryGain.connect(audioContext.destination);
            reverbGain.connect(audioContext.destination);
        }

        // Play a single note with envelope
        function playNote(noteName, duration, startTime, velocity = 0.7, isChord = false) {
            if (!audioContext || !masterGain) return;
            
            const frequency = notes[noteName];
            if (!frequency || frequency === 0) return; // REST note
            
            const style = musicStyles[currentStyle];
            const now = startTime;
            
            // Create oscillator
            const oscillator = audioContext.createOscillator();
            oscillator.type = style.waveform;
            oscillator.frequency.setValueAtTime(frequency, now);
            
            // Add slight vibrato for more expression
            const vibrato = audioContext.createOscillator();
            const vibratoGain = audioContext.createGain();
            vibrato.frequency.value = 5;
            vibratoGain.gain.value = isChord ? 0 : 2;
            vibrato.connect(vibratoGain);
            vibratoGain.connect(oscillator.frequency);
            
            // Create envelope
            const envelope = audioContext.createGain();
            const vol = velocity * (isChord ? 0.15 : 0.5);
            
            // ADSR envelope
            envelope.gain.setValueAtTime(0, now);
            envelope.gain.linearRampToValueAtTime(vol, now + style.attack);
            envelope.gain.linearRampToValueAtTime(vol * style.sustain, now + style.attack + style.decay);
            envelope.gain.setValueAtTime(vol * style.sustain, now + duration - style.release);
            envelope.gain.linearRampToValueAtTime(0, now + duration + style.release * 0.5);
            
            // Add harmonics for richer sound
            const harmonic = audioContext.createOscillator();
            harmonic.type = 'sine';
            harmonic.frequency.setValueAtTime(frequency * 2, now);
            
            const harmonicGain = audioContext.createGain();
            harmonicGain.gain.setValueAtTime(0, now);
            harmonicGain.gain.linearRampToValueAtTime(vol * 0.15, now + style.attack);
            harmonicGain.gain.linearRampToValueAtTime(0, now + duration * 0.5);
            
            // Filter for warmth
            const filter = audioContext.createBiquadFilter();
            filter.type = 'lowpass';
            filter.frequency.setValueAtTime(style.filterFreq, now);
            filter.Q.value = 1;
            
            // Connect
            oscillator.connect(envelope);
            harmonic.connect(harmonicGain);
            harmonicGain.connect(envelope);
            envelope.connect(filter);
            filter.connect(masterGain);
            
            // Start
            oscillator.start(now);
            oscillator.stop(now + duration + style.release);
            harmonic.start(now);
            harmonic.stop(now + duration * 0.5);
            vibrato.start(now);
            vibrato.stop(now + duration + style.release);
            
            // Track for cleanup
            activeNodes.push({ oscillator, harmonic, vibrato, stopTime: now + duration + style.release });
        }

        // Play chord
        function playChord(chordNotes, duration, startTime) {
            chordNotes.forEach((noteName, index) => {
                // Slight arpeggio effect
                playNote(noteName, duration, startTime + index * 0.02, 0.5, true);
            });
        }

        // Main music loop
        function playMusic() {
            if (!musicPlaying) return;
            
            const style = musicStyles[currentStyle];
            const beatDuration = style.tempo / 1000; // Convert to seconds
            
            const note = castleInTheSkyMelody[currentNoteIndex];
            const [noteName, beats] = note;
            const duration = beats * beatDuration;
            
            // Play melody note
            const now = audioContext.currentTime;
            playNote(noteName, duration, now);
            
            // Play accompanying chord (change every 4 beats approximately)
            const chordIndex = Math.floor(currentNoteIndex / 8) % castleChords.length;
            if (currentNoteIndex % 8 === 0) {
                const chord = castleChords[chordIndex];
                playChord(chord.notes, beatDuration * 4, now);
            }
            
            // Move to next note
            currentNoteIndex = (currentNoteIndex + 1) % castleInTheSkyMelody.length;
            
            // Schedule next note
            const nextDelay = duration * 1000;
            musicTimeout = setTimeout(playMusic, nextDelay);
        }

        // Clean up old nodes
        function cleanupNodes() {
            const now = audioContext ? audioContext.currentTime : 0;
            activeNodes = activeNodes.filter(node => {
                if (node.stopTime < now) {
                    return false;
                }
                return true;
            });
        }

        // Start music
        function startMusic() {
            initAudioContext();
            
            if (audioContext.state === 'suspended') {
                audioContext.resume();
            }
            
            createMasterChain();
            
            musicPlaying = true;
            currentNoteIndex = 0;
            updateMusicUI();
            playMusic();
            
            // Periodic cleanup
            setInterval(cleanupNodes, 5000);
        }

        // Stop music
        function stopMusic() {
            musicPlaying = false;
            
            if (musicTimeout) {
                clearTimeout(musicTimeout);
                musicTimeout = null;
            }
            
            // Fade out
            if (masterGain) {
                const now = audioContext.currentTime;
                masterGain.gain.linearRampToValueAtTime(0, now + 0.5);
            }
            
            updateMusicUI();
        }

        // Toggle music
        function toggleMusic() {
            const panel = document.getElementById('musicPanel');
            
            if (!musicPlaying) {
                startMusic();
                panel.classList.add('show');
            } else {
                stopMusic();
            }
        }

        // Update UI
        function updateMusicUI() {
            const btn = document.getElementById('musicToggleBtn');
            const icon = document.getElementById('musicIcon');
            const status = document.getElementById('musicStatus');
            
            if (musicPlaying) {
                btn.classList.add('playing');
                icon.textContent = 'ðŸŽµ';
                if (status) {
                    status.textContent = 'ðŸ° æ­£åœ¨æ’­æ”¾ï¼š';
                    status.classList.add('playing');
                }
                
                // Animate visualizer
                document.querySelectorAll('.visualizer-bar').forEach(bar => {
                    bar.classList.add('animate');
                });
            } else {
                btn.classList.remove('playing');
                icon.textContent = 'ðŸ”‡';
                if (status) {
                    status.textContent = 'å·²æš«åœ';
                    status.classList.remove('playing');
                }
                
                document.querySelectorAll('.visualizer-bar').forEach(bar => {
                    bar.classList.remove('animate');
                });
            }
        }

        // Change volume
        function changeMusicVolume(value) {
            musicVolume = value / 100;
            if (masterGain) {
                masterGain.gain.value = musicVolume;
            }
        }

        // Change style
        function changeMusicStyle() {
            const newStyle = document.getElementById('musicStyle').value;
            currentStyle = newStyle;
            
            // Update reverb mix
            if (musicPlaying && dryGain && reverbGain) {
                const style = musicStyles[currentStyle];
                dryGain.gain.value = 1 - style.reverbMix;
                reverbGain.gain.value = style.reverbMix;
            }
        }

        // Close panel
        function closeMusicPanel() {
            document.getElementById('musicPanel').classList.remove('show');
        }

        // Click outside to close
        document.addEventListener('click', function(e) {
            const musicControl = document.getElementById('musicControl');
            const panel = document.getElementById('musicPanel');
            
            if (musicControl && panel && !musicControl.contains(e.target) && panel.classList.contains('show')) {
                panel.classList.remove('show');
            }
        });

        // Add visualizer on load
        document.addEventListener('DOMContentLoaded', function() {
            const panelBody = document.querySelector('.music-panel-body');
            if (panelBody && !document.querySelector('.music-visualizer')) {
                const visualizer = document.createElement('div');
                visualizer.className = 'music-visualizer';
                visualizer.innerHTML = `
                    <div class="visualizer-bar" style="height: 5px;"></div>
                    <div class="visualizer-bar" style="height: 10px;"></div>
                    <div class="visualizer-bar" style="height: 15px;"></div>
                    <div class="visualizer-bar" style="height: 8px;"></div>
                    <div class="visualizer-bar" style="height: 20px;"></div>
                    <div class="visualizer-bar" style="height: 12px;"></div>
                    <div class="visualizer-bar" style="height: 18px;"></div>
                    <div class="visualizer-bar" style="height: 7px;"></div>
                    <div class="visualizer-bar" style="height: 14px;"></div>
                    <div class="visualizer-bar" style="height: 10px;"></div>
                `;
                panelBody.appendChild(visualizer);
            }
        });

        // Make functions globally available
        window.toggleMusic = toggleMusic;
        window.startMusic = startMusic;
        window.stopMusic = stopMusic;
        window.changeMusicVolume = changeMusicVolume;
        window.changeMusicStyle = changeMusicStyle;
        window.closeMusicPanel = closeMusicPanel;

    </script>
</body>
</html>